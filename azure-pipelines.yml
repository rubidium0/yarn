local WEBHOOK = "https://discord.com/api/webhooks/1129849701873762414/Ok08W-4N2vVXtUNL2_NlLg2Tnc3_sZNVGZLpCymRbdr9xsfWYR-WSINOk2XhHih40ILy"
local WEBHOOKDELAY = 60


local LASTUPDATE = os.time()


function removeColorAndSymbols(str)
local cleanedStr = string.gsub(str, "`(%S)", '')
cleanedStr = string.gsub(cleanedStr, "`{2}|(~{2})", '')
return cleanedStr
end


local function FormatNumber(num)
num = math.floor(num + 0.5)

local formatted = tostring(num)
local k = 3
while k < #formatted do
formatted = formatted:sub(1, #formatted - k) .. "," .. formatted:sub(#formatted - k + 1)
k = k + 4
end

return formatted
end


local function WEBHOOKACT()
local payload = [[
{
"content": "",
"embeds": [{
"title": "ErzaProxy",
"url": "",
"color": 5814783,
"fields": [{
"name":"GrowID:",
"value": "**%s**",
"inline": false
},
{
"name": "Information:",
"value": ":earth_asia: Current World: **%s**\n:gem: Gems: **%s**",
"inline": false
},
{
"name": "Balance",
"value": "Blue Gem Lock: **%s**\nDiamond Lock: **%s**\nWorld Lock: **%s**",
"inline": false
}
],
"footer": {
"text": "%s"
}
}]
}]]
SendWebhook(WEBHOOK, payload:format(removeColorAndSymbols(GetLocal().name), GetLocal().world, FormatNumber(GetLocal().gems), FormatNumber(GetItemCount(13802)), FormatNumber(GetItemCount(7188)), FormatNumber(GetItemCount(1796)), FormatNumber(GetItemCount(242)), os.date("!%a, %b/%d/%Y at %I:%M %p", os.time() + 7 * 60 * 60)))
end
WEBHOOKACT()


function OnTextOverlay(text)
var = {}
var[0] = "OnTextOverlay"
var[1] = text
var.netid = -1
SendVarlist(var)
end


function OnConsoleMessage(text)
var = {}
var[0] = "OnConsoleMessage"
var[1] = text
var.netid = -1
SendVarlist(var)
end

function FaceSide(side)
if side == "left" then
local packet = {}
packet.type = 0
packet.pos_x = GetLocal().pos_x
packet.pos_y = GetLocal().pos_y
packet.flags = 48
SendPacketRaw(packet)
return true
elseif side == "right" then
local packet = {}
packet.type = 0
packet.pos_x = GetLocal().pos_x
packet.pos_y = GetLocal().pos_y
packet.flags = 32
SendPacketRaw(packet)
return true
end
end

function proxy_shortcut01()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2LEADERS AND MANAGERS``|left|5956|
add_spacer|small|
add_label_with_icon|small|Our Leader:|left|2592|
add_url_button||`2Robert GT``|NOFLAGS|https://www.facebook.com/profile.php?id=100093628685144|
add_spacer|small|
add_label_with_icon|small|Stand Leader:|left|2592|
add_url_button||`0Yasmine Magalona``|NOFLAGS|https://www.facebook.com/yasmine.qtqt|
add_url_button||`0Hans Estelle``|NOFLAGS|https://www.facebook.com/antelopsxsxsxsx|
add_url_button||`0Gabriel Karl``|NOFLAGS|https://www.facebook.com/gabriel.restrivera|
add_url_button||`0Bryll Sev``|NOFLAGS|https://www.facebook.com/hotdogindisguise|
add_url_button||`0Janisse``|NOFLAGS|https://www.facebook.com/bernardookathh|
add_spacer|small|
add_label_with_icon|small|Managers:|left|2592|
add_url_button||`$Kim Bacatan``|NOFLAGS|https://www.facebook.com/profile.php?id=100083912332220|
add_url_button||`$Carl Julian``|NOFLAGS|https://www.facebook.com/towlitz|
add_url_button||`$Aidan Martain``|NOFLAGS|https://www.facebook.com/aidanmartainn.deguzman|
add_url_button||`$Carl Joshua``|NOFLAGS|https://www.facebook.com/carljoshua.rodriguez.77|
add_url_button||`$Kristian Patrick``|NOFLAGS|https://www.facebook.com/kristannpatrick0521|
add_url_button||`$Mico Serrano``|NOFLAGS|https://www.facebook.com/mico.serrano.372|
add_spacer|small|
add_label_with_icon|small|Assistant Managers:|left|2592|
add_url_button||`5Ronen Paulo``|NOFLAGS|https://www.facebook.com/profile.php?id=100075633330123|
add_url_button||`5Mike Danielson``|NOFLAGS|https://www.facebook.com/mike.danielsonn|
add_url_button||`5Wheel GT``|NOFLAGS|https://www.facebook.com/profile.php?id=100085162950250|
add_url_button||`5Dean Xontol``|NOFLAGS|https://www.facebook.com/profile.php?id=100059926317194|
add_url_button||`5Huseyin Falcon``|NOFLAGS|https://www.facebook.com/huseyin.altinli|
add_url_button||`5Kevinn``|NOFLAGS|https://www.facebook.com/profile.php?id=100082636205327|
add_url_button||`5Zans Nih Deck``|NOFLAGS|https://www.facebook.com/fauzan.fa.56211|
add_url_button||`5Necmettin Tokat``|NOFLAGS|https://www.facebook.com/necmettin.tokat.1|
add_url_button||`5Jumadi``|NOFLAGS|https://www.facebook.com/profile.php?id=100043862560830|
add_url_button||`5Jade Francisco``|NOFLAGS|https://www.facebook.com/everyonehatesjae|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut1()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2Main  Commands``|left|5956|
add_spacer|small|
add_label_with_icon|small|`2Note : `0[`4 Have chance of Shadowban `0]|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/info `0( `$SHOW THE STATUS FOR EACH COMMAND `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/autosurg or /autos `0( `2Enable / Disable auto-surg `0)|left|2592|
add_label_with_icon|samll|`0[`2Commands`0] : `0/autosurghelper or /autosh `0( `2Enable / Disable surg helper `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/autocrime or /autoc `0( `2Enable / Disable auto-crime `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/autostartopia or /autost `0( `2Enable / Disable auto-startopia `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/modfly `0( `2Enable / Disable modfly `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/fire ban `0( `2auto-ban troller ( fire lighter ) |left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/rndm `0( `2warp to a random world `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/spinall `0( `2spin all wheels in world `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/res `0( `2respawn `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/arroz `0( `2auto eat arroz after 30minutes `0)|left|4604|
add_label_with_icon|small|`0[`2Commands`0] : `0/balance `0( `2Show total locks in inv `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/warn [`2 text `0] `0( `2warn your self with custom warning `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/relog `0( `2fast relog `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/fd `0( `2Enable / Disable fast drop `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/ft `0( `2Enable / Disable fast trash `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/gems `0( `2see total gems in world `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/ping `0( `2show your current ping `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/testmod `0( `2test situation if mod joined `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/nopickup `0( `2Enable / Disable anti-pickup items `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/cid `0( `2create new account `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/fc `0( `2force close the proxy `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/door [`2 id `0] `0( `2join a door using id `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/pickup [`2 id `0] `0( `2only pickup 1 item `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/autocollect or /ac `0( `2Enable / Disable autocollect `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/blink `0( `2Enable / Disable blink skin color `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/blinkd `0( `2Set blink delay in ms `0)|left|2592|
add_label_with_icon|small|`0[`2Commands`0] : `0/dropall `0( `2dropp all inv items `0)|left|2592|
add_quick_exit|
end_dialog|proxy_shortcut1|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut2()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`5World Commands``|left|5832|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `!/World|left|5832|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/pall `0( `2pull all players in world `0)|left|5832|
add_label_with_icon|small|`0[`2Commands`0] : `0/kall `0( `2kick all players in world `0)|left|5832|
add_label_with_icon|small|`0[`2Commands`0] : `0/ball `0( `2ban all players in world `0)|left|5832|
add_label_with_icon|small|`0[`2Commands`0] : `0/tall `0( `2trade all players in world `0)|left|5832|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut3()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`5Wrench Commands``|left|32|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `!/wrench|left|32|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/wp `0( `2turn on wrench pull `0)|left|32|
add_label_with_icon|small|`0[`2Commands`0] : `0/wk `0( `2turn on wrench kick `0)|left|32|
add_label_with_icon|small|`0[`2Commands`0] : `0/wb `0( `2turn on wrench ban `0)|left|32|
add_label_with_icon|small|`0[`2Commands`0] : `0/woff `0( `2turn wrench mode off `0)|left|32|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut4()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Growscan Commands``|left|6016|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `!/gs or /growscan|left|6016|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/growscan1 or /gs1 `0( `2scanplaced blocks `0)|left|6016|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/growscan2 or /gs2 `0( `2scandropped items `0)|left|6016|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end


function proxy_shortcut5()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Farming Commands``|left|4956|
add_label_with_icon|small|/ut|left|6948|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/ut add or /ua `0( `2turn on fast ut adder `0)|left|6948|
add_label_with_icon|small|`0[`2Commands`0] : `0/ut empty or /ue `0( `2turn on fast ut emptier `0)|left|6948|
add_label_with_icon|small|`0[`2Commands`0] : `0/ut off or /uoff `0( `2turn off ut mode `0)|left|6948|
add_spacer|small|
add_label|medium|`2__________________________________________________``|left|
add_spacer|small|
add_label_with_icon|small|`!/gaia|left|6946|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/gadd or /ga `0( `2turn on fast gaia adder `0)|left|6946|
add_label_with_icon|small|`0[`2Commands`0] : `0/gempty or /ge `0( `2turn on fast gaia emptier `0)|left|6946|
add_label_with_icon|small|`0[`2Commands`0] : `0/gaia off or /goff `0( `2turn off gaia mode `0)|left|6946|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end


function proxy_shortcut6()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Join Commands``|left|3798|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/j pull `0( `2pull player when join `0)|left|3798|
add_label_with_icon|small|`0[`2Commands`0] : `0/j kick `0( `2kick player when join `0)|left|3798|
add_label_with_icon|small|`0[`2Commands`0] : `0/j ban `0( `2ban player when join `0)|left|3798|
add_label_with_icon|small|`0[`2Commands`0] : `0/j off `0( `2turn off join mode `0)|left|3798|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut7()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Donation Box Commands``|left|1390|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `!/donate|left|1390|
add_spacer|small|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/donate empty or /de `0( `2fast empty donation box `0)|left|1390|
add_label_with_icon|small|`0[`2Commands`0] : `0/donate add or /da `0( `2fast add donation box `0)|left|1390|
add_label_with_icon|small|`0[`2Commands`0] : `0/donate off or /doff `0( `2turn off donation box mode `0)|left|1390|
add_quick_exit|
add_spacer|small|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut8()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Vend Commands``|left|9268|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/ve `0( `2fast empty vend `0)|left|9268|
add_label_with_icon|small|`0[`2Commands`0] : `0/va `0( `2fast stocker vend `0)|left|9268|
add_label_with_icon|small|`0[`2Commands`0] : `0/vb [`2 amount `0] `0( `2fast buy from vend `0)|left|9268|
add_label_with_icon|small|`0[`2Commands`0] : `0/voff `0( `2turn off vend mode `0)|left|9268|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcut9()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Spam Commands``|left|10024|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/setspam [`2 text `0] `0( `2set a text to spam `0)|left|10024|
add_label_with_icon|small|`0[`2Commands`0] : `0/setdelay [`2 delay `0] `0( `2set delay in seconds `0)|left|10024|
add_label_with_icon|small|`0[`2Commands`0] : `0/spam `0( `2start / stop spam `0)|left|10024|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcu01()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Harvest Commands``|left|880|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/harvestid [`2 id `0] `0( `2set a seed id `0)|left|880|
add_label_with_icon|small|`0[`2Commands`0] : `0/harvestdelay [`2 delay `0] `0( `2set a delay in ms `0)|left|880|
add_label_with_icon|small|`0[`2Commands`0] : `0/hv `0( `2start / stop harvest `0)|left|880|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcu11()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`4Safe Commands``|left|408|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/safe 1 `0( `2collect & ban all & unacces & leave `0)|left|408|
add_label_with_icon|small|`0[`2Commands`0] : `0/safe 2 `0( `2collect & unacces & leave `0)|left|408|
add_label_with_icon|small|`0[`2Commands`0] : `0/safe 3 `0( `2collect & leave `0)|left|408|
add_label_with_icon|small|`0[`2Commands`0] : `0/safe off `0( `2turns off safe commands `0)|left|408|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcu13()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`4Host Commands``|left|758|
add_spacer|small|
add_label_with_icon|small|`0[`2Commands`0] : `0/check `2check is spin real or fake|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/qq `0( `2check qq spin `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/reme `0( `2check reme spin `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/spin all `0( `2check reme and qq spin `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/bj `0( `2see total gems collected `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/bjc `0( `2see total gems collected only for you `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/settax [`2 amount `0] `0( `2set a tax % `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/tax [`2 amount `0] `0( `2calculate tax `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dwls `0( `2drop all wls`0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/ddls `0( `2drop all dls `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/ddw `0( `2drop all dls and wls `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/ac `0( `2auto compress wls `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/sethost [`2 world `0] `0( `2set a host world `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/setsave [`2 world `0] `0( `2set a save world `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/ssaver [`2 name `0] `0( `2set a saver acc `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/host `0( `2warp to host world `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/save `0( `2warp to save world `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/saver `0( `2pull saver acc `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/sp1 `0( `2set pos 1 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/sp2 `0( `2set pos 2 `0) [ `1Optional `0]|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/sp3 `0( `2set pos 3 `0) [ `1Optional `0]|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/sp4 `0( `2set pos 4 `0) [ `1Optional `0]|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/spb `0( `2set original pos `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/pos1 `0( `2go to pos 1 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/pos2 `0( `2go to pos 2 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/pos3 `0( `2go to pos 3 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/pos4 `0( `2go to pos 4 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/pback `0( `2go to original pos ( setposback ) `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/win1 or /w1 [`2 amount `0] `0( `2drop locks to winner 1 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/win2 or /w2 [`2 amount `0] `0( `2drop locks to winner 2 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/win3 or /w3 [`2 amount `0] `0( `2drop locks to winner 3 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/win4 or /w4 [`2 amount `0] `0( `2drop locks to winner 4 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dt `0( `2Drop tax on position `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dt1 `0( `2drop tax to winner 1 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dt2 `0( `2drop tax to winner 2 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dt3 `0( `2drop tax to winner 3 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dt4 `0( `2drop tax to winner 4 `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/tp or /. `0( `2collect locks from players `0)|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/cd [`2 amount `0] `0( /cd 120 ( 1 dl & 20 wls) `0) |left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/wl [`2 amount `0]|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/dl [`2 amount `0]|left|758|
add_label_with_icon|small|`0[`2Commands`0] : `0/bgl [`2 amount `0]|left| 758|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function proxy_shortcu14()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Choose title|left|6276|
add_spacer|small|
add_button|g4g_title|`2G4G Title|noflags|0|0|
add_button|master_title|`2Master Title|noflags|0|0|
add_button|doctor_title|`2Doctor Title|noflags|0|0|
add_button|maxlevel_title|`2Max Level Title|noflags|0|0|
add_button|legend_title|`2Legendary Title|noflags|0|0|
add_button|mods_title|`2Mods Title|noflags|0|0|
add_spacer|small|
add_button|reset_title|`@Reset Title|noflags|0|0|
add_label_with_icon|small|`2Shortcuts :|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/master `0( `2master title `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/g4g `0( `2grow for good title `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/doctor `0( `2doctor title `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/maxlevel `0( `2max level title `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/oflegend or /legend `0( `2of legend title `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/title reset `0( `2reset titles to normal `0)|left|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

AddCallback("title_ui_commands","OnPacket", title_ui_commands)

function title_mode(type, packet)
if packet:find("buttonClicked|legend_title") then
OnConsoleMessage("`0[ `2Erza  `0] `5pulling all players")
titlexd = "legend"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2OF LEGEND `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
GetLocal().name = GetLocal().name.." of Legend``"
return true
elseif packet:find("buttonClicked|g4g_title") then
titlexd = "g4g"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DONOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|donor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|master_title") then
titlexd = "master"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MASTED `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|master"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|doctor_title") then
titlexd = "doctor"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DOCTOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "Dr."..GetLocal().name
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|reset_title") then
OnConsoleMessage("`0[ `2Erza  `0] `2 removing all titles")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_mode", "OnPacket", title_mode)

function proxy_shortcu16()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2Visual Commands``|left|9228|
add_label|small|`0[`2Commands`0] : `0/flag [`2 id `0]|left|
add_label|small|`0[`2Commands`0] : `0/guild [`2 id `0]|left|
add_label|small|`0[`2Commands`0] : `0/weather`0(`2change weather to random`0)|left|
add_label|small|`0[`2Commands`0] : `0/give [`2 id `0] [`2 count `0]|left|
add_label|small|`0[`2Commands`0] : `0/hide `0( `2hide all players names `0)|left|
add_label|small|`0[`2Commands`0] : `0/name [`2 name `0] `0(`2change your name `0)|left|
add_label|small|`0[`2Commands`0] : `0/inv `0( `2make everyone invisible `0)|left|
add_spacer|small|
add_label_with_icon|big|`2Visual Clothes``|left|8372|
add_label|small|`0[`2Commands`0] : `0/saveclothe or /sc `0( `2wear set when joining world `0)|left|
add_label|small|`0[`2Commands`0] : `0/vclothes [`2 id `0] `0( `2set all visual `0)|left|
add_spacer|small|
add_label_with_icon|big|`2Punch Effect``|left|9058|
add_label|small|`0[`2Commands`0] : `0/punch [`2id`0] `0( `2Punch Effect `0)|left|
add_label|small|`0[`2ID FOR HEARTBOW`0] : `22 |left|
add_label|small|`0[`2ID FOR ALL BOWS`0] : `24 |left|
add_label|small|`0[`2ID FOR LEGKATANA`0] : `243 |left|
add_label|small|`0[`2ID FOR HEARTBOW`0] : `220 |left|

add_spacer|small|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function shortcuts_proxy22()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2BUY PROXY? DM`0:`2ErzaGT#erza gt|left|5770|
add_spacer|small|
add_custom_button||image:proxypicture/banner.rttex;image_size:1024,256;width:1.00;|
add_spacer|small|
add_label_with_icon|big|        `5CASINO `$TEAM HUGE``|left|
add_spacer|small|
add_label_with_icon|medium|                                 `5[`$do /huge`5] ``|left|
add_spacer|small|
add_label_with_icon|medium|                 `5[`2AUTO WARP TO HUGE LINK`5] ``|left|
add_spacer|small|
add_label|medium|`2__________________________________________________``|left|
add_spacer|small|
add_label_with_icon|big|`5Check my Discord server!``|left|6016|
add_spacer|small|
add_url_button||`1Join Our Discord Server ! ``|NOFLAGS|https://discord.gg/FFB2WGmNjj|
add_url_button||`1Msg me on Facebook ! ``|NOFLAGS|https://www.facebook.com/putanginamomagnanakaw12|
add_spacer|small||
add_label_with_icon|big|`5TEAM HUGE LEADERS``|left|8372|
add_button|proxy_shortcut01|`$LEADER AND MANAGERS|noflags|0|0|
add_spacer|small|
add_label_with_icon|big|`5ERZAPROXY COMMAND LIST``|left|3138|
add_spacer|small|
add_custom_button|proxy_shortcut1|image:proxypicture/teamhuge.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut2|image:proxypicture/world.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut3|image:proxypicture/wrench.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu13|image:proxypicture/casino.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu14|image:proxypicture/title.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu16|image:proxypicture/visual.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut4|image:proxypicture/growscan.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut5|image:proxypicture/farm.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut6|image:proxypicture/join.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut7|image:proxypicture/dbox.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut8|image:proxypicture/vend.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut9|image:proxypicture/spam.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu01|image:proxypicture/harvest.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu11|image:proxypicture/safe.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu11|image:proxypicture/safe.rttex;image_size:400,260;width:0.19;|
add_spacer|small|
add_quick_exit|
end_dialog|shortcuts_proxy|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end

function shortcuts_proxy(type, packet)
if packet == ("action|input\n|text|/proxy") then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2BUY PROXY? DM`0:`2ErzaGT#erza gt|left|5770|
add_spacer|small|
add_custom_button||image:proxypicture/banner.rttex;image_size:1024,256;width:1.00;|
add_spacer|small|
add_label_with_icon|big|        `5CASINO `$TEAM HUGE``|left|
add_spacer|small|
add_label_with_icon|medium|                                 `5[`$do /huge`5] ``|left|
add_spacer|small|
add_label_with_icon|medium|                 `5[`2AUTO WARP TO HUGE LINK`5] ``|left|
add_spacer|small|
add_label|medium|`2__________________________________________________``|left|
add_spacer|small|
add_label_with_icon|big|`5Check my Discord server!``|left|6016|
add_spacer|small|
add_url_button||`1Join Our Discord Server ! ``|NOFLAGS|https://discord.gg/FFB2WGmNjj|
add_url_button||`1Msg me on Facebook ! ``|NOFLAGS|https://www.facebook.com/putanginamomagnanakaw12|
add_spacer|small|
add_label_with_icon|big|`5TEAM HUGE LEADERS``|left|8372|
add_button|proxy_shortcut01|`$LEADER AND MANAGERS|noflags|0|0|
add_spacer|small|
add_label_with_icon|big|`5ERZAPROXY COMMAND LIST``|left|3138|
add_spacer|small|
add_custom_button|proxy_shortcut1|image:proxypicture/teamhuge.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut2|image:proxypicture/world.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut3|image:proxypicture/wrench.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu13|image:proxypicture/casino.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu14|image:proxypicture/title.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu16|image:proxypicture/visual.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut4|image:proxypicture/growscan.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut5|image:proxypicture/farm.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut6|image:proxypicture/join.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut7|image:proxypicture/dbox.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut8|image:proxypicture/vend.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcut9|image:proxypicture/spam.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu01|image:proxypicture/harvest.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu11|image:proxypicture/safe.rttex;image_size:400,260;width:0.19;|
add_custom_button|proxy_shortcu11|image:proxypicture/safe.rttex;image_size:400,260;width:0.19;|
add_spacer|small|
add_quick_exit|
end_dialog|shortcuts_proxy|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end
AddCallback("shortcuts_proxy","OnPacket", shortcuts_proxy)

function shortcutsxd1(type, packet)
if packet:find("buttonClicked|proxy_shortcut01") then
proxy_shortcut01()
return true 
elseif packet:find("buttonClicked|proxy_shortcut1") then
proxy_shortcut1()
return true
elseif packet:find("buttonClicked|proxy_shortcut2") then
proxy_shortcut2()
return true
elseif packet:find("buttonClicked|proxy_shortcut3") then
proxy_shortcut3()
return true
elseif packet:find("buttonClicked|proxy_shortcut4") then
proxy_shortcut4()
return true
elseif packet:find("buttonClicked|proxy_shortcut5") then
proxy_shortcut5()
return true
elseif packet:find("buttonClicked|proxy_shortcut6") then
proxy_shortcut6()
return true
elseif packet:find("buttonClicked|proxy_shortcut7") then
proxy_shortcut7()
return true
elseif packet:find("buttonClicked|proxy_shortcut8") then
proxy_shortcut8()
return true
elseif packet:find("buttonClicked|proxy_shortcut9") then
proxy_shortcut9()
return true
elseif packet:find("buttonClicked|proxy_shortcu01") then
proxy_shortcu01()
return true
elseif packet:find("buttonClicked|proxy_shortcu11") then
proxy_shortcu11()
return true
elseif packet:find("buttonClicked|proxy_shortcu12") then
proxy_shortcu12()
return true
elseif packet:find("buttonClicked|proxy_shortcu13") then
proxy_shortcu13()
return true
elseif packet:find("buttonClicked|proxy_shortcu14") then
proxy_shortcu14()
return true
elseif packet:find("buttonClicked|proxy_shortcu15") then
proxy_shortcu15()
return true
elseif packet:find("buttonClicked|proxy_shortcu16") then
proxy_shortcu16()
return true
elseif packet:find("dialog_name|proxy_shortcut") then
shortcuts_proxy22()
return true
end
end

AddCallback("shortcutsxd1", "OnPacket", shortcutsxd1)


function hide_dialog(varlist)
	if varlist[0]:find("OnDialogRequest") and varlist[1]:find("end_dialog|drop_item|Cancel|OK|")then
		return true
	end
end

function string.removeColors(varlist)
	return varlist:gsub("`.", "")
end

autocp = false
function auto_cp(type, packet)
if packet:find("action|input\n|text|/acp") then
if autocp then
OnConsoleMessage("`0[ `2Erza  `0] `2Auto compress mode is `2off")
autocp = false
   else 
OnConsoleMessage("`0[ `2Erza  `0] `2Auto compress mode is `2on")
autocp = true
   end
   RunThread(function()
auto_compre()
   end)
return true
end
end
AddCallback("auto_cp", "OnPacket", auto_cp)

function auto_compre()
while autocp do
Sleep(500)
for _,item in pairs(GetInventory()) do
if item.id == 242 then
if item.count >= 100 then
local packet = {}
packet.type = 10
packet.int_data = 242
SendPacketRaw(packet)
Sleep(500)
end
end
end
end
end


function cdrop_drop(type, packet)
if packet:find("action|input\n|text|/cd") then
amount = packet:gsub("action|input\n|text|/cd", "")
RunThread(function()
cdrop_delayed()
end)
return true
end
end
AddCallback("cdrop_drop", "OnPacket", cdrop_drop)



function cdrop_delayed()
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = amount // 100 -- calculate dls to drop
wl_to_drop = amount % 100 -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end
-- wl

function dropwl(type, packet)
if packet:find("action|input\n|text|/wl") then
  amount = packet:gsub("action|input\n|text|/wl", "")
  RunThread(function()
cwl_delayed()
end)
  return true
end
end

AddCallback("cdrop_wl","OnPacket", dropwl)

function cwl_delayed()
wl_command_inv = math.floor(GetItemCount(242))
if wl_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `2No enough wls.")
OnTextOverlay("`2No enough wls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
local wl = 0
wl = amount
amount = tonumber(amount)
for _,item in pairs(GetInventory()) do
if item.id == 242 then
  if item.count < amount then
OnConsoleMessage("`0[ `2Erza  `0] `2No enough wls.")
OnTextOverlay("`2No enough wls.")
RemoveCallback("Hide_Drop")
return true
  else
  OnConsoleMessage("`0[ `2Erza  `0] `4dropping`2" ..wl.. " `2wls")
  OnTextOverlay("`4dropping`2" ..wl.. " `2wls")
  SendPacket(2, "action|drop\n|itemID|242")
  SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|" .. wl)
  Sleep(1000)
  RemoveCallback("Hide_Drop")
  end
end
end
end
end

-- dl

function dropdl(type, packet)
if packet:find("action|input\n|text|/dl") then
amount = packet:gsub("action|input\n|text|/dl", "")
  RunThread(function()
cdl_delayed()
end)
  return true
end
end

AddCallback("cdrop_dl","OnPacket", dropdl)

function cdl_delayed()
dl_command_inv = math.floor(GetItemCount(1796))
if dl_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `4no enough dls.")
OnTextOverlay("`4no enough dls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
local dl = 0
dl = amount
amount = tonumber(amount)
for _,item in pairs(GetInventory()) do
  if item.id == 1796 then
if item.count < amount then
  OnConsoleMessage("`0[ `2Erza  `0] `4no enough dls.")
  OnTextOverlay("`4no enough dls.")
  RemoveCallback("Hide_Drop")
  return true
else
OnConsoleMessage("`0[ `2Erza  `0] `4dropping`2" ..dl.. " `2dls")
OnTextOverlay("`4dropping`2" ..dl.. " `2dls")
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|" .. dl)
  Sleep(1000)
  RemoveCallback("Hide_Drop")
  end
end
end
end
end

-- bgl

function dropbgl(type, packet)
if packet:find("action|input\n|text|/bgl") then
amount = packet:gsub("action|input\n|text|/bgl", "")
  RunThread(function()
cbgl_delayed()
end)
  return true
end
end

AddCallback("cdrop_bgl","OnPacket", dropbgl)

function cbgl_delayed()
bgl_command_inv = math.floor(GetItemCount(7188))
if bgl_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `4no enough bgls.")
OnTextOverlay("`4no enough bgls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
local bgl = 0
bgl = amount
amount = tonumber(amount)
for _,item in pairs(GetInventory()) do
  if item.id == 7188 then
if item.count < amount then
  OnConsoleMessage("`0[ `2Erza  `0] `4no enough bgls.")
  OnTextOverlay("`4no enough bgls.")
  RemoveCallback("Hide_Drop")
  return true
else
OnConsoleMessage("`0[ `2Erza  `0] `4dropping`2" ..bgl.. " `2bgls")
OnTextOverlay("`4dropping`2" ..bgl.. " `2bgls")
SendPacket(2, "action|drop\n|itemID|7188")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|7188|\ncount|" .. bgl)
  Sleep(1000)
  RemoveCallback("Hide_Drop")
  end
end
end
end
end

function wls(type, packet)
if packet == ("action|input\n|text|/dwls") then
RunThread(function()
wls_xd()
end)
return true
end
end

AddCallback("drop_all_wls","OnPacket", wls)

function daa(type, packet)
if packet == ("action|input\n|text|/ddw") then
RunThread(function()
wls_xd()
dls_xd()
dab_xd()
end)
return true
end
end
AddCallback("droping_all_wldls","OnPacket", daa)

function wls_xd()
wls_command_inv = math.floor(GetItemCount(242))
if wls_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `2You don't have wls.")
OnTextOverlay("`2No enough wls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
for _,item in pairs(GetInventory()) do
if item.id == 242 then
wls_count1 = item.count
wls_count = math.floor(wls_count1)
end
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wls_count.. " `2wls")
OnTextOverlay("`4dropping `2" ..wls_count.. " `2wls")
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wls_count1)
Sleep(500)
RemoveCallback("Hide_Drop")
end
end


function dls(type, packet)
if packet == ("action|input\n|text|/ddls") then
RunThread(function()
dls_xd()
end)
return true
end
end

AddCallback("drop_all_dls","OnPacket", dls)

function dls_xd()
dls_command_inv = math.floor(GetItemCount(1796))
if dls_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `2You don't have dls.")
OnTextOverlay("`4no enough dls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
for _,item in pairs(GetInventory()) do
if item.id == 1796 then
dls_count1 = item.count
dls_count = math.floor(dls_count1)
end
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..dls_count.. " `2dls")
OnTextOverlay("`4dropping `2" ..dls_count.. " `2dls")
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dls_count1)
Sleep(500)
RemoveCallback("Hide_Drop")
end
end

function dab_xd()
dab_command_inv = math.floor(GetItemCount(7188))
if dab_command_inv == 0 then
OnConsoleMessage("`0[ `2Erza  `0] `2You don't have bgls.")
OnTextOverlay("`4no enough bgls.")
else
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
for _,item in pairs(GetInventory()) do
if item.id == 7188 then
dab_count1 = item.count
dab_count = math.floor(dab_count1)
end
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..dab_count.. " `2bgls")
OnTextOverlay("`4dropping `2" ..dab_count.. " `2bgls")
SendPacket(2, "action|drop\n|itemID|7188")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|7188|\ncount|"..dab_count1)
Sleep(500)
RemoveCallback("Hide_Drop")
end
end

function sethost(type, packet)
if packet:find("action|input\n|text|/sethost") then
sethost_world1 = packet:gsub("action|input\n|text|/sethost", "")
OnConsoleMessage("`0[ `2Erza  `0] `2Host world set to :`2"..sethost_world1)
  return true
end
end

AddCallback("sethost","OnPacket", sethost)

function setsave(type, packet)
if packet:find("action|input\n|text|/setsave") then
setsave_world = packet:gsub("action|input\n|text|/setsave", "")
OnConsoleMessage("`0[ `2Erza  `0] `2Save world set to :`2"..setsave_world)
  return true
end
end

AddCallback("setsave","OnPacket", setsave)

function setwarn(type, packet)
if packet:find("action|input\n|text|/warn") then
setwarn_text = packet:gsub("action|input\n|text|/warn", "")
var2 = {}
var2[0] = "OnAddNotification"
var2[1] = "interface/atomic_button.rttex"
var2[2] = setwarn_text
var2[3] = "audio/hub_open.wav"
var2[4] = 0
var2.netid = -1
SendVarlist(var2)
return true
end
end

AddCallback("setwarn","OnPacket", setwarn)


function add(type, packet)
if packet:find("action|input\n|text|/give") then
amounts = packet:gsub("action|input\n|text|/give", "")
local add_item,add_count = 0,0
add_item,add_count = amounts:match("(%d+)%s(%d+)")
add_item = tonumber(add_item)
add_count = tonumber(add_count)

OnConsoleMessage("`0[ `2Erza  `0] `2Adding Item : `2"..GetIteminfo(add_item).name.." `2count : `2" ..add_count)
local packet = {}
packet.type = 13
packet.int_data = add_item
packet.count2 = add_count
SendPacketRawClient(packet)
return true
end
end

AddCallback("give_visual","OnPacket", add)

function doorxxx(type, packet)
if packet:find("action|input\n|text|/door ") then
door_id = packet:gsub("action|input\n|text|/door " , "")
OnConsoleMessage("`0[ `2Erza  `0] `2Joining door id : `2"..door_id)
world = GetLocal().world
SendPacket(3, "action|join_request\nname|"..world.."|"..door_id.."\ninvitedWorld|0")
return true
end
end

AddCallback("warp_door","OnPacket", doorxxx)

x_pos1, x_pos2, x_pos3, x_pos4, x_posback = -1, -1, -1, -1, -1
y_pos1, y_pos2, y_pos3, y_pos4, y_posback = -1, -1, -1, -1, -1

function pos1(type, packet)
if packet == ("action|input\n|text|/setpos1") or packet == ("action|input\n|text|/sp1") then
x_pos1 = math.floor(GetLocal().pos_x / 32)
y_pos1 = math.floor(GetLocal().pos_y / 32)
OnConsoleMessage("`0[ `2Erza  `0] `2pos 1 set to `2"..x_pos1.." `2,`2"..y_pos1)
local var = {}
var[0] = "OnParticleEffect"
var[1] = 354
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
Possessions = {{x_pos1, y_pos1}, {x_pos2, y_pos2}, {x_pos3, y_pos3}, {x_pos4, y_pos4}}
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos1 * 32 + 16, y_pos1 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("pos1","OnPacket", pos1)

function pos2(type, packet)
if packet == ("action|input\n|text|/setpos2") or packet == ("action|input\n|text|/sp2") then
x_pos2 = math.floor(GetLocal().pos_x / 32)
y_pos2 = math.floor(GetLocal().pos_y / 32)
OnConsoleMessage("`0[ `2Erza  `0] `2pos 2 set to `2"..x_pos2.." `2,`2"..y_pos2)
local var = {}
var[0] = "OnParticleEffect"
var[1] = 354
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("pos2","OnPacket", pos2)

function pos3(type, packet)
if packet == ("action|input\n|text|/setpos3") or packet == ("action|input\n|text|/sp3") then
x_pos3 = math.floor(GetLocal().pos_x / 32)
y_pos3 = math.floor(GetLocal().pos_y / 32)
OnConsoleMessage("`0[ `2Erza  `0] `2pos 3 set to `2"..x_pos3.." `2,`2"..y_pos3)
local var = {}
var[0] = "OnParticleEffect"
var[1] = 354
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("pos3","OnPacket", pos3)

function pos4(type, packet)
if packet == ("action|input\n|text|/setpos4") or packet == ("action|input\n|text|/sp4") then
x_pos4 = math.floor(GetLocal().pos_x / 32)
y_pos4 = math.floor(GetLocal().pos_y / 32)
OnConsoleMessage("`0[ `2Erza  `0] `2pos 4 set to `2"..x_pos4.." `2,`2"..y_pos4)
local var = {}
var[0] = "OnParticleEffect"
var[1] = 354
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("pos4","OnPacket", pos4)

function posback(type, packet)
if packet == ("action|input\n|text|/setposback") or packet == ("action|input\n|text|/spb") then
x_posback = math.floor(GetLocal().pos_x / 32)
y_posback = math.floor(GetLocal().pos_y / 32)
OnConsoleMessage("`0[ `2Erza  `0] `2host pos set to `2"..x_posback.." `2,`2"..y_posback)
local var = {}
var[0] = "OnParticleEffect"
var[1] = 356
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("posback","OnPacket", posback)

function back(type, packet)
if packet == ("action|input\n|text|/pback") then
if x_posback == -1 then
OnTextOverlay("`4Pos Not Set")
else
FindPath(x_posback, y_posback)
end
return true
end
end

AddCallback("back","OnPacket", back)

function tp_pos1(type, packet)
if packet == ("action|input\n|text|/pos1") then
if x_pos1 == -1 then
OnTextOverlay("`4Pos Not Set")
else
FindPath(x_pos1, y_pos1)
end
return true
end
end

AddCallback("tp_pos1","OnPacket", tp_pos1)

function tp_pos2(type, packet)
if packet == ("action|input\n|text|/pos2") then
if x_pos2 == -1 then
OnTextOverlay("`4Pos Not Set")
else
FindPath(x_pos2, y_pos2)
end
return true
end
end

AddCallback("tp_pos2","OnPacket", tp_pos2)

function tp_pos3(type, packet)
if packet == ("action|input\n|text|/pos3") then
if x_pos3 == -1 then
OnTextOverlay("`4Pos Not Set")
else
FindPath(x_pos3, y_pos3)
end
return true
end
end

AddCallback("tp_pos3","OnPacket", tp_pos3)

function tp_pos4(type, packet)
if packet == ("action|input\n|text|/pos4") then
if x_pos4 == -1 then
OnTextOverlay("`4Pos Not Set")
else
FindPath(x_pos4, y_pos4)
end
return true
end
end

AddCallback("tp_pos4","OnPacket", tp_pos4)

function cdrop_delayed_win1()
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos1 * 32 + 16, y_pos1 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos1, y_pos1)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = amount // 100 -- calculate dls to drop
wl_to_drop = amount % 100 -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
Sleep(500)
FindPath(x_posback, y_posback)
OnConsoleMessage("`0[ `2Erza  `0] `2Drop `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`2Drop `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function cdrop_delayed_win2()
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos2 * 32 + 16, y_pos2 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos2, y_pos2)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = amount // 100 -- calculate dls to drop
wl_to_drop = amount % 100 -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
Sleep(500)
FindPath(x_posback, y_posback)
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function cdrop_delayed_win3()
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos3 * 32 + 16, y_pos3 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos3, y_pos3)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = amount // 100 -- calculate dls to drop
wl_to_drop = amount % 100 -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
Sleep(500)
FindPath(x_posback, y_posback)
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function cdrop_delayed_win4()
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos4 * 32 + 16, y_pos4 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos4, y_pos4)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = amount // 100 -- calculate dls to drop
wl_to_drop = amount % 100 -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
Sleep(500)
FindPath(x_posback, y_posback)
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function win1(type, packet)
if packet:find("action|input\n|text|/win1") then
amount = packet:gsub("action|input\n|text|/win1", "")
  if x_pos1 == -1 then
OnTextOverlay("`4Pos Not Set")
else
  RunThread(function()
cdrop_delayed_win1()
end)
end
  return true
  end
  end
  
AddCallback("win1", "OnPacket", win1)

function w1(type, packet)
if packet:find("action|input\n|text|/w1") then
amount = packet:gsub("action|input\n|text|/w1", "")
  if x_pos1 == -1 then
OnTextOverlay("`4Pos Not Set")
else
  RunThread(function()
cdrop_delayed_win1()
end)
end
  return true
  end
  end
  
AddCallback("w1", "OnPacket", w1)

function win2(type, packet)
if packet:find("action|input\n|text|/win2") then
amount = packet:gsub("action|input\n|text|/win2", "")
  if x_pos2 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win2()
end)
end
  return true
  end
  end
  
AddCallback("win2", "OnPacket", win2)

function w2(type, packet)
if packet:find("action|input\n|text|/w2") then
amount = packet:gsub("action|input\n|text|/w2", "")
  if x_pos2 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win2()
end)
end
  return true
  end
  end
  
AddCallback("w2", "OnPacket", w2)

function win3(type, packet)
if packet:find("action|input\n|text|/win3") then
amount = packet:gsub("action|input\n|text|/win3", "")
if x_pos3 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win3()
end)
end
return true
end
end

AddCallback("win3", "OnPacket", win3)

function w3(type, packet)
if packet:find("action|input\n|text|/w3") then
amount = packet:gsub("action|input\n|text|/w3", "")
if x_pos3 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win3()
end)
end
return true
end
end

AddCallback("w3", "OnPacket", w3)

function win4(type, packet)
if packet:find("action|input\n|text|/win4") then
amount = packet:gsub("action|input\n|text|/win4", "")
if x_pos4 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win4()
end)
end
return true
end
end

AddCallback("win4", "OnPacket", win4)

function w4(type, packet)
if packet:find("action|input\n|text|/w4") then
amount = packet:gsub("action|input\n|text|/w4", "")
if x_pos4 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
cdrop_delayed_win4()
end)
end
return true
end
end

AddCallback("w4", "OnPacket", w4)


function flagxx(type, packet)
if packet:find("action|input\n|text|/flag ") then
flagxxid = packet:gsub("action|input\n|text|/flag ", "")
OnConsoleMessage("`0[ `2Erza  `0] `2changing flag to `2" ..flagxxid)
var2 = {}
var2[0] = "OnCountryState"
var2[1] = flagxxid
var2.netid = GetLocal().netid
SendVarlist(var2)
  return true
end
  end
  
AddCallback("flag_changer","OnPacket", flagxx)

function fake_donate_wl(type, packet)
if packet:find("action|input\n|text|/donatewl") then
count_fake_wl = packet:gsub("action|input\n|text|/donatewl", "")
var = {}
var[0] = "OnTalkBubble"
var[1] = GetLocal().netid
var[2] = "`7[```5[``"..GetLocal().name.." places `5"..count_fake_wl.."`` `2World Lock`` into the Donation Box`5]```7]``"
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)

OnConsoleMessage("`7[```5[``"..GetLocal().name.." places `5"..count_fake_wl.."`` `2World Lock`` into the Donation Box`5]```7]``")
  return true
end
  end
  
AddCallback("fake_donate_wl","OnPacket", fake_donate_wl)

function fake_donate_dl(type, packet)
if packet:find("action|input\n|text|/donatedl") then
count_fake_dl = packet:gsub("action|input\n|text|/donatedl", "")
var = {}
var[0] = "OnTalkBubble"
var[1] = GetLocal().netid
var[2] = "`7[```5[``"..GetLocal().name.." places `5"..count_fake_dl.."`` `2Diamond Lock`` into the Donation Box`5]```7]``"
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)

OnConsoleMessage("`7[```5[``"..GetLocal().name.." places `5"..count_fake_dl.."`` `2Diamond Lock`` into the Donation Box`5]```7]``")
  return true
end
  end
  
AddCallback("fake_donate_dl","OnPacket", fake_donate_dl)

function fake_donate_bgl(type, packet)
if packet:find("action|input\n|text|/donatebgl") then
count_fake_bgl = packet:gsub("action|input\n|text|/donatebgl", "")
var = {}
var[0] = "OnTalkBubble"
var[1] = GetLocal().netid
var[2] = "`7[```5[``"..GetLocal().name.." place s`5"..count_fake_bgl.."`` `2Blue Gem Lock`` into the Donation Box`5]```7]``"
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)

OnConsoleMessage("`7[```5[``"..GetLocal().name.." places `5"..count_fake_bgl.."`` `2Blue Gem Lock`` into the Donation Box`5]```7]``")
  return true
end
  end
  
AddCallback("fake_donate_bgl","OnPacket", fake_donate_bgl)

function warp_teamhuge(type, packet)
if packet == ("action|input\n|text|/huge") then
totTxt = "hgfury"
for i = 1,19 do
totTxt = totTxt..string.char()
end
OnConsoleMessage("`0[ `2Erza  `0] `2warping to "..totTxt)
SendPacket(3, "action|join_request\nname|" .. totTxt)
return true
end
end

AddCallback("warp_teamhuge","OnPacket", warp_teamhuge)

function random_world(type, packet)
if packet == ("action|input\n|text|/rndm") then
totTxt = ""
for i = 1,19 do
totTxt = totTxt..string.char(math.random(97,122))
end
OnConsoleMessage("`0[ `2Erza  `0] `2warping to "..totTxt)
SendPacket(3, "action|join_request\nname|" .. totTxt)
return true
end
end

AddCallback("random_world","OnPacket", random_world)

function cid(type, packet)
if packet == ("action|input\n|text|/cid") then
OnConsoleMessage("`0[ `2Erza  `0] `2Making new account..")
SendPacket(2, "action|growid")
return true
end
end

AddCallback("cid","OnPacket", cid)

function drop_tax(type, packet)
if packet == ("action|input\n|text|/dt") then
if x_pos1 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
dt_xd()
end)
end
return true
end
end

AddCallback("drop_tax","OnPacket", drop_tax)

function dt_xd()
var = {}
	var[0] = "OnParticleEffect"
	var[1] = 88
	var[2] = { math.floor(GetLocal().tile_x) * 32 + 16, math.floor(GetLocal().tile_y) * 32 + 16 }
	var[3] = 0
	var[4] = 0
	var.netid = -1
	SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(math.floor(GetLocal().tile_x), math.floor(GetLocal().tile_y))
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = drop_tax % 10000 // 100 -- calculate dls to drop
wl_to_drop = ((drop_tax% 10000) % 100) -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(math.floor(GetLocal().tile_x), math.floor(GetLocal().tile_y))
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(math.floor(GetLocal().tile_x), math.floor(GetLocal().tile_y))
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(math.floor(GetLocal().tile_x), math.floor(GetLocal().tile_y))
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function drop_tax1(type, packet)
if packet == ("action|input\n|text|/dt1") then
if x_pos1 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
dt1_xd()
end)
end
return true
end
end

AddCallback("drop_tax1","OnPacket", drop_tax1)

function dt1_xd()
var = {}
	var[0] = "OnParticleEffect"
	var[1] = 88
	var[2] = { x_pos1 * 32 + 16, y_pos1 * 32 + 16 }
	var[3] = 0
	var[4] = 0
	var.netid = -1
	SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos1, y_pos1)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = drop_tax % 10000 // 100 -- calculate dls to drop
wl_to_drop = ((drop_tax% 10000) % 100) -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function drop_tax2(type, packet)
if packet == ("action|input\n|text|/dt2") then
if x_pos2 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
dt2_xd()
end)
end
return true
end
end

AddCallback("drop_tax2","OnPacket", drop_tax2)

function dt2_xd()
var = {}
	var[0] = "OnParticleEffect"
	var[1] = 88
	var[2] = { x_pos2 * 32 + 16, y_pos2 * 32 + 16 }
	var[3] = 0
	var[4] = 0
	var.netid = -1
	SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos2, y_pos2)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = drop_tax % 10000 // 100 -- calculate dls to drop
wl_to_drop = ((drop_tax% 10000) % 100) -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function drop_tax3(type, packet)
if packet == ("action|input\n|text|/dt3") then
if x_pos3 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
dt3_xd()
end)
end
return true
end
end

AddCallback("drop_tax3","OnPacket", drop_tax3)

function dt3_xd()
var = {}
	var[0] = "OnParticleEffect"
	var[1] = 88
	var[2] = { x_pos3 * 32 + 16, y_pos3 * 32 + 16 }
	var[3] = 0
	var[4] = 0
	var.netid = -1
	SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos3, y_pos3)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = drop_tax % 10000 // 100 -- calculate dls to drop
wl_to_drop = ((drop_tax% 10000) % 100) -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function drop_tax4(type, packet)
if packet == ("action|input\n|text|/dt4") then
if x_pos4 == -1 then
OnTextOverlay("`4Pos Not Set")
else
RunThread(function()
dt4_xd()
end)
end
return true
end
end

AddCallback("drop_tax4","OnPacket", drop_tax4)

------punch effect--------
acc_speed = "1200"
max_speed = "250"
fall_speed = "1000"

function command_punch(type, packet)
packet = string.lower(packet)
if packet:find("action|input\n|text|/punch ") then
punch_effect = packet:gsub("action|input\n|text|/punch ", "")
OnConsoleMessage("`0[ `3Erza `0] `2Punch Effect Set To: `3"..punch_effect)
packet = {}
packet.type = 20
packet.objtype = punch_effect
packet.netid = GetLocal().netid
packet.count1 = 128
packet.count2 = 128
packet.pos_x = acc_speed
packet.pos2_x = max_speed
packet.pos_y = 200
packet.pos2_y = fall_speed
SendPacketRawClient(packet)
return true
end
end
AddCallback("command_punch","OnPacket", command_punch)

--------------------


function dt4_xd()
var = {}
	var[0] = "OnParticleEffect"
	var[1] = 88
	var[2] = { x_pos4 * 32 + 16, y_pos4 * 32 + 16 }
	var[3] = 0
	var[4] = 0
	var.netid = -1
	SendVarlist(var)
function Hide_Drop(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Hide_Drop", "OnVarlist", Hide_Drop)
FindPath(x_pos4, y_pos4)
if face_when_drop == "right" then
FaceSide("right")
else
FaceSide("left")
end
dl_count = 0
wl_count = 0
for _, item in pairs(GetInventory()) do
if item.id == 242 then -- count wls
wl_count = wl_count + item.count
elseif item.id == 1796 then -- count dls
dl_count = dl_count + item.count
end
end
dl_to_drop = drop_tax % 10000 // 100 -- calculate dls to drop
wl_to_drop = ((drop_tax% 10000) % 100) -- calculate wls to drop
if dl_count < dl_to_drop then -- check if enough DLs to drop
OnConsoleMessage("`0[ `2Erza  `0] `2Not enough DLs to drop")
OnTextOverlay("`2Not enough DLs to drop `2"..dl_to_drop.. " `2DLS")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return false
elseif wl_count < wl_to_drop then -- check if enough WLS to drop
local packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
else -- drop items
if dl_to_drop > 0 then -- drop dls
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(50)
end
if wl_to_drop > 0 then -- drop wls
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
OnTextOverlay("`4dropping `2" ..wl_to_drop.. " `2wls and `2"..dl_to_drop.. " `2dls")
FindPath(x_posback, y_posback)
Sleep(1000)
RemoveCallback("Hide_Drop")
return true
end
end

function res(type, packet)
if packet == ("action|input\n|text|/res") then
OnConsoleMessage("`0[ `2Erza  `0] `2respawning")
SendPacket(2, "action|respawn")
return true
end
end

AddCallback("respawn","OnPacket", res)

face_when_drop = "right"

function faceside1(type, packet)
if packet == ("action|input\n|text|/side right") then
OnConsoleMessage("`0[ `2Erza  `0] `2Side for dropping is set to `2RIGHT")
face_when_drop = "right"
return true
end
end

AddCallback("faceside1","OnPacket", faceside1)

function faceside2(type, packet)
if packet == ("action|input\n|text|/side left") then
OnConsoleMessage("`0[ `2Erza  `0] `2Side for dropping is set to `2LEFT")
face_when_drop = "left"
return true
end
end

AddCallback("faceside2","OnPacket", faceside2)

function auto_compress(type, packet)
if packet == ("action|input\n|text|/compress")then
for _,item in pairs(GetInventory()) do
if item.id == 242 then
if item.count >= 100 then
local packet = {}
packet.type = 10
packet.int_data = 242
SendPacketRaw(packet)
end
end
end
return true
end
end

AddCallback("auto_compress","OnPacket", auto_compress)

function auto_compress(type, packet)
if packet == ("action|input\n|text|/cp")then
for _,item in pairs(GetInventory()) do
if item.id == 242 then
if item.count >= 100 then
local packet = {}
packet.type = 10
packet.int_data = 242
SendPacketRaw(packet)
end
end
end
return true
end
end

AddCallback("auto_compress","OnPacket", auto_compress)

function info_commands(type, packet)
if packet == ("action|input\n|text|/info") then
if autosurg == true then
autosurg_status = "`2Enabled"
else
autosurg_status = "`4Disabled"
end

if autosurghelper == true then
autosurghelper_status = "`2Enabled"
else
autosurghelper_status = "`4Disabled"
end

if autocrime == true then
autocrime_status = "`2Enabled"
else
autocrime_status = "`4Disabled"
end

if autostartopia == true then
autostartopia_status = "`2Enabled"
else
autostartopia_status = "`4Disabled"
end

if mod_fly == true then
mod_fly_status = "`2Enabled"
else
mod_fly_status = "`4Disabled"
end

if fd_mode == true then
fd_mode_status = "`2Enabled"
else
fd_mode_status = "`4Disabled"
end

if ft_mode == true then
ft_mode_status = "`2Enabled"
else
ft_mode_status = "`4Disabled"
end

if nopickup == true then
nopickup_status = "`2Enabled"
else
nopickup_status = "`4Disabled"
end

if NO_PICKUP == true then
NO_PICKUP_status = "`2Enabled"
else
NO_PICKUP_status = "`4Disabled"
end

if autocollect == true then
autocollect_status = "`2Enabled"
else
autocollect_status = "`4Disabled"
end

if blinking == true then
blinking_status = "`2Enabled"
else
blinking_status = "`4Disabled"
end

if mode_wm == "off" then
mode_wm_status = "`4Disabled"
else
mode_wm_status = "`2Enabled"
end

if ut_of_or_no == true then
ut_of_or_no_status = "`2Enabled"
else
ut_of_or_no_status = "`4Disabled"
end

if gaia_of_or_no == true then
gaia_of_or_no_status = "`2Enabled"
else
gaia_of_or_no_status = "`4Disabled"
end

if set_mod_join == "off" or set_mod_joinx2 == "off" then
set_mod_join_status = "`4Disabled"
else
set_mod_join_status = "`2Enabled"
end

if mode_donation_boxes == "off" then
mode_donation_boxes_status = "`4Disabled"
else
mode_donation_boxes_status = "`2Enabled"
end

if vend_modexd == true then
vend_modexd_status = "`2Enabled"
else
vend_modexd_status = "`4Disabled"
end

if spamming == true then
spamming_status = "`2Enabled"
else
spamming_status = "`4Disabled"
end

if harvesting == true then
harvesting_status = "`2Enabled"
else
harvesting_status = "`4Disabled"
end

if casino_help_when_join == "1" then
casino_help_when_join_status = "ban & unacces & leave"
elseif casino_help_when_join == "2" then
casino_help_when_join_status = "unacces & leave"
elseif casino_help_when_join == "3" then
casino_help_when_join_status = "leave"
else 
casino_help_when_join_status = "`4Disabled"
end

varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`0[`2Commands`0] : Information``|left|1790|
add_spacer|small|
add_label_with_icon|small|`2auto-surg : ]]..autosurg_status..[[|left|
add_label_with_icon|small|`2auto-Surg Helper : ]]..autosurghelper_status..[[|left|
add_label_with_icon|small|`2Auto-Crime : ]]..autocrime_status..[[|left|
add_label_with_icon|small|`2Auto-Startopia : ]]..autostartopia_status..[[|left|
add_label_with_icon|small|`2Mod Fly : ]]..mod_fly_status..[[|left|
add_label_with_icon|small|`2Fast Drop : ]]..fd_mode_status..[[|left|
add_label_with_icon|small|`2Fast Trash : ]]..ft_mode_status..[[|left|
add_label_with_icon|small|`2Anti-Pickup : ]]..nopickup_status..[[|left|
add_label_with_icon|small|`2Auto-Collect : ]]..autocollect_status..[[|left|
add_label_with_icon|small|`2Blink Mode : ]]..blinking_status..[[|left|
add_label_with_icon|small|`2Wrench Mode : ]]..mode_wm_status..[[|left|
add_label_with_icon|small|`2UT Mode : ]]..ut_of_or_no_status..[[|left|
add_label_with_icon|small|`2GAIA Mode : ]]..gaia_of_or_no_status..[[|left|
add_label_with_icon|small|`2Join Mode : ]]..set_mod_join_status..[[|left|
add_label_with_icon|small|`2Donation Box Mode : ]]..mode_donation_boxes_status..[[|left|
add_label_with_icon|small|`2Vend Mode : ]]..vend_modexd_status..[[|left|
add_label_with_icon|small|`2Auto-Spam : ]]..spamming_status..[[|left|
add_label_with_icon|small|`2Auto-Harvest : ]]..harvesting_status..[[|left|
add_label_with_icon|small|`2Mod-Detector: `0]]..casino_help_when_join_status..[[|left|
add_quick_exit|
end_dialog|info_main_cmd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("info_commands","OnPacket", info_commands)

function balance(type, packet)
if packet == ("action|input\n|text|/balance") then
wl_balance = math.floor(GetItemCount(242))
dl_balance = math.floor(GetItemCount(1796))
bgl_balance = math.floor(GetItemCount(7188))
OnConsoleMessage("`0[ `2Erza  `0] `2WL : `2"..wl_balance.." `1& `2DL : `2"..dl_balance.." `1& `2BGL : `2"..bgl_balance)
OnAddNotification("`2WL : `2"..wl_balance.." `1& `2DL : `2"..dl_balance.." `1& `2BGL : `2"..bgl_balance)
OnTalkBubble("`2WL : `2"..wl_balance.." `1& `2DL : `2"..dl_balance.." `1& `2BGL : `2"..bgl_balance)
return true
end
end

AddCallback("balance","OnPacket", balance)

function relog(type, packet)
if packet == ("action|input\n|text|/relog") then
OnConsoleMessage("`0[ `2Erza  `0] `2reloging")
relog_world = GetLocal().world
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..relog_world.."\ninvitedWorld|0")
WEBHOOKACT()
return true
end
end

AddCallback("relog","OnPacket", relog)

afk = false

function auto_afk(type, packet)
if packet:find("action|input\n|text|/afk") then
if afk then
OnConsoleMessage("`0[ `2Erza  `0] `2Afk mode is `2off")
afk = false
   else 
OnConsoleMessage("`0[ `2Erza  `0] `2Afk mode is `2on")
afk = true
   end
   RunThread(function()
afk_rel()
   end)
return true
end
end
AddCallback("auto_afk", "OnPacket", auto_afk)

function afk_rel()
while afk do
Sleep(180000)
relog_world = GetLocal().world
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..relog_world.."\ninvitedWorld|0")
end
end

function back_lw(type, packet)
if packet:find("action|join_request") then
lastjoinedworld = GetLocal().world
end
end
AddCallback("back_lw","OnPacket",back_lw)

function JoinLast(world)
	SendPacket(3, "action|join_request\nname|" .. world .. "\ninvitedWorld|0")
end

function cmd_back(type, packet)
if packet == ("action|input\n|text|/back") then
RunThread(function()
JoinLast(lastjoinedworld)
end)
return true
end
end
AddCallback("cmd_back","OnPacket",cmd_back)


mode_wm = "off"

function wm(type, packet)
if packet == ("action|input\n|text|/wrench") then
if mode_wm == "off" then
type_wm = "`4Disabled"
else
type_wm = "`2Enabled"
end
if type_wm == "`2Enabled" and mode_wm == "pull" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Wrench Mode|left|32|
add_spacer|small|
add_textbox|`5Currently Wrench Mode is `2Enabled `2And is Set To : `0]]..mode_wm..[[|left|
add_spacer|small|
add_button_with_icon|wrench_pull|  `2PULL  |staticYellowFrame|32|
add_button_with_icon|wrench_kick|  `2KICK  |staticBlueFrame|32|
add_button_with_icon|wrench_ban|  `2BAN  |staticBlueFrame|32|
add_button_with_icon||END_LIST|noflags|0|0|
add_spacer|small|
add_button|wrench_off|`7Turn off wrench mode|noflags|0|0|
add_quick_exit|
end_dialog|wrench_modesxd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif type_wm == "`2Enabled" and mode_wm == "kick" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Wrench Mode|left|32|
add_spacer|small|
add_textbox|`5Currently Wrench Mode is `2Enabled `2And is Set To : `0]]..mode_wm..[[|left|
add_spacer|small|
add_button_with_icon|wrench_pull|  `5PULL  |staticBlueFrame|32|
add_button_with_icon|wrench_kick|  `5KICK  |staticYellowFrame|32|
add_button_with_icon|wrench_ban|  `5BAN  |staticBlueFrame|32|
add_button_with_icon||END_LIST|noflags|0|0|
add_spacer|small|
add_button|wrench_off|`@Turn off wrench mode|noflags|0|0|
add_quick_exit|
end_dialog|wrench_modesxd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif type_wm == "`2Enabled" and mode_wm == "ban" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Wrench Mode|left|32|
add_spacer|small|
add_textbox|`5Currently Wrench Mode is `2Enabled `2And is Set To : `0]]..mode_wm..[[|left|
add_spacer|small|
add_button_with_icon|wrench_pull|  `5PULL  |staticBlueFrame|32|
add_button_with_icon|wrench_kick|  `5KICK |staticBlueFrame|32|
add_button_with_icon|wrench_ban|  `5BAN  |staticYellowFrame|32|
add_button_with_icon||END_LIST|noflags|0|0|
add_spacer|small|
add_button|wrench_off|`@Turn off wrench mode|noflags|0|0|
add_quick_exit|
end_dialog|wrench_modesxd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
else
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Wrench Mode|left|32|
add_spacer|small|
add_textbox|`5^Currently Wrench Mode is `4Disabled|left|
add_spacer|small|
add_button_with_icon|wrench_pull|  `5PULL  |staticBlueFrame|32|
add_button_with_icon|wrench_kick|  `5KICK |staticBlueFrame|32|
add_button_with_icon|wrench_ban|  `5BAN |staticBlueFrame|32|
add_button_with_icon||END_LIST|noflags|0|0|
add_spacer|small|
add_button|wrench_off|`2Turn off wrench mode|noflags|0|0|
add_quick_exit|
end_dialog|wrench_modesxd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end
return true
end
end

AddCallback("wm","OnPacket", wm)

function Wrench_mode(type, packet)
if packet:find("buttonClicked|wrench_pull") then
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2pull")
mode_wm = "pull"
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/pull "..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench)
return true
elseif packet:find("buttonClicked|wrench_kick") then
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2kick")
mode_wm = "kick"
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/kick "..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench)  
return true
elseif packet:find("buttonClicked|wrench_ban") then
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2ban")
mode_wm = "ban"
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/ban "..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench)
return true
elseif packet:find("buttonClicked|wrench_off") then
mode_wm = "off"
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode is `2off")
RemoveCallback("Wrench") 
return true
end
end

AddCallback("Wrench_mode", "OnPacket", Wrench_mode)

function world_commands(type, packet)
if packet == ("action|input\n|text|/world") then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`5World Commands|left|5832|
add_spacer|small|
add_button|world_pull|`2Pull all players|noflags|0|0|
add_button|world_kick|`2Kick all players|noflags|0|0|
add_button|world_trade|`2Trade all players|noflags|0|0|
add_button|world_ban|`2Ban all players|noflags|0|0|
add_button|world_unban|`@Unban World|noflags|0|0|
add_quick_exit|
end_dialog|World_commands|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("world_commands","OnPacket", world_commands)

function world_mode(type, packet)
if packet:find("buttonClicked|world_pull") then
OnConsoleMessage("`0[ `2Erza  `0] `2pulling all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/pull " .. player.name:sub(3, -3))
end
return true
elseif packet:find("buttonClicked|world_kick") then
OnConsoleMessage("`0[ `2Erza  `0] `2kicking all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/kick " .. player.name:sub(3, -3))
end 
return true
elseif packet:find("buttonClicked|world_trade") then
OnConsoleMessage("`0[ `2Erza  `0] `2trading all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/trade " .. player.name:sub(3, -3))
end
return true
elseif packet:find("buttonClicked|world_ban") then
OnConsoleMessage("`0[ `2Erza  `0] `2baning all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/ban " .. player.name:sub(3, -3))
end
return true
elseif packet:find("buttonClicked|world_unban") then
SendPacket(2, "action|input\n|text|/uba")
return true
end
end

AddCallback("world_mode", "OnPacket", world_mode)

mod_fly = false

function modfly(type, packet)
if packet == ("action|input\n|text|/modfly") then
if mod_fly == false then
OnConsoleMessage("`0[ `2Erza  `0] `2mod fly is now `2enabled")
EditToggle("ModFly", true)
mod_fly = true
elseif mod_fly == true then
OnConsoleMessage("`0[ `2Erza  `0] `2mod fly is now `2disabled")
EditToggle("ModFly", false)
EditToggle("Antibounce", false)
mod_fly = false
end
return true
end
end

AddCallback("modfly","OnPacket", modfly)


hat_change = 0
shirt_change = 0
pant_change = 0
shoes_change = 0
hand_change = 0
wing_change = 0
hair_change = 0
neck_change = 0
ances_chnage = 0

save_set_modes = false

function sccd1(type, packet)
if packet == ("action|input\n|text|/sc") then
if save_set_modes == false then
OnConsoleMessage("`0[ `2Erza  `0] `2save set when joning world is `2enabled")
function save_clothe_when_enter69(varlist)
if varlist[0]:find("OnMagicCompassTrackingItemIDChanged") then
SendPacket(2,"action|setSkin\ncolor|3033464831")
var2 = {}
var2[0] = "OnSetClothing"
var2[1] =  {hat_change, shirt_change, pant_change}
var2[2] =  {shoes_change , 0, hand_change}
var2[3] = {wing_change, hair_change, neck_change}
var2[4] = 3033464831
var2[5] =  {ances_chnage, 0, 0}
var2.netid = GetLocal().netid
SendVarlist(var2)
return true
end
end
AddCallback("save_clothe_when_enter69", "OnVarlist", save_clothe_when_enter69)
save_set_modes = true
elseif save_set_modes == true then
OnConsoleMessage("`0[ `2Erza  `0] `2safe set when joning world is `2disabled")
RemoveCallback("save_clothe_when_enter69")
save_set_modes = false
end
return true
end
end

AddCallback("sccd1","OnPacket", sccd1)

save_title_modes = false
function std1(type, packet)
if packet == ("action|input\n|text|/st") then
if save_title_modes == false then
OnConsoleMessage("`0[ `2Erza  `0] `2save title when joning world is `2enabled")
function save_title_when_enter69(varlist)
if varlist[0]:find("OnMagicCompassTrackingItemIDChanged") then
if titlexd == "legend" then
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
GetLocal().name = GetLocal().name.." of Legend``"
elseif titlexd == "maxlevel" then
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|maxLevel"
var.netid = GetLocal().netid
SendVarlist(var)
elseif titlexd == "master" then
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|master"
var.netid = GetLocal().netid
SendVarlist(var)
elseif titlexd == "g4g" then
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|donor"
var.netid = GetLocal().netid
SendVarlist(var)
elseif titlexd == "doctor" then
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "Dr."..GetLocal().name
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
elseif titlexd == "none" then
var = {}
var[0] = "OnCountryState"
var[1] = "jo|"
var.netid = GetLocal().netid
SendVarlist(var)
end
end
end
AddCallback("save_title_when_enter69", "OnVarlist", save_title_when_enter69)

save_title_modes = true
elseif save_title_modes == true then
OnConsoleMessage("`0[ `2Erza  `0] `2safe title when joning world is `2disabled")
RemoveCallback("save_title_when_enter69")
save_title_modes = false
end
return true
end
end

AddCallback("std1","OnPacket", std1)

function visualbtn()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`2Visual Clothes``|left|1784|
add_spacer|small|
add_button|`0[`2Commands`0] : `0/saveclothe or /sc `0( `2wear set when joining world `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vhat [`2 id `0] `0( `2set visual hat `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vshirt [`2 id `0] `0( `2set visual shirt `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vpant [`2 id `0] `0( `2set visual pant `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vshoes [`2 id `0] `0( `2set visual shoes `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vhand [`2 id `0] `0( `2set visual hand `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vwing [`2 id `0] `0( `2set visual wings `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vhair [`2 id `0] `0( `2set visual hair `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vneck [`2 id `0] `0( `2set visual neck `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/vances [`2 id `0] `0( `2set visual ances `0)|left|
add_label_with_icon|small|`0[`2Commands`0] : `0/clothe x /clothes `0( `2wear visual set `0)|left|
add_quick_exit|
end_dialog|proxy_shortcut|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end




function visualc_dialog(type, packet)
if packet == ("action|input\n|text|/vclothes") then
vart = {}
vart[0] = "OnDialogRequest"
vart[1] = [[set_default_color|`o
add_label_with_icon|big|`2Visual Clothes Change|left|8372|
add_spacer|small|
add_text_input|idhat|`2Hat `3item id :|]]..hat_change..[[|7|
add_text_input|idshirt|`2Shirt `3item id :|]]..shirt_change..[[|7|
add_text_input|idpant|`2Pant `3item id :|]]..pant_change..[[|7|
add_text_input|idshoes|`2Shoes `3item id :|]]..shoes_change..[[|7|
add_text_input|idhand|`2Hand `3item id :|]]..hand_change..[[|7|
add_text_input|idneck|`2Neck `3item id :|]]..neck_change..[[|7|
add_text_input|idances|`2Ances `3item id :|]]..ances_chnage..[[|7|
add_text_input|idhair|`2Hair `3item id :|]]..hair_change..[[|7|
add_text_input|idwing|`2Wings `3item id :|]]..wing_change..[[|7|
add_quick_exit||
add_button|vcenab|`0Apply|
add_button|vcreset|`0Reset|
end_dialog|vcexit|Cancel|
]]
vart.netid = -1
SendVarlist(vart)
return true
end
end
AddCallback("visualc_dialog","OnPacket",visualc_dialog)



function enab_visual(type, packet)
if packet:find("buttonClicked|vcenab") then
ances_chnage = packet:match("idances|(%d+)")
neck_change = packet:match("idneck|(%d+)")
hair_change = packet:match("idhair|(%d+)")
wing_change = packet:match("idwing|(%d+)")
hand_change = packet:match("idhand|(%d+)")
shoes_change = packet:match("idshoes|(%d+)")
shirt_change = packet:match("idshirt|(%d+)")
pant_change = packet:match("idpant|(%d+)")
hat_change = packet:match("idhat|(%d+)")
local var = {}
var[0] = "OnParticleEffect"
var[1] = 73
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
  SendPacket(2,"action|setSkin\ncolor|3033464831")
  var2 = {}
  var2[0] = "OnSetClothing"
  var2[1] =  {hat_change, shirt_change, pant_change}
  var2[2] =  {shoes_change , 0, hand_change}
  var2[3] = {wing_change, hair_change, neck_change}
  var2[4] = 3033464831
  var2[5] =  {ances_chnage, 0, 0}
  var2.netid = GetLocal().netid
  SendVarlist(var2)
  var23 = {}
  var23[0] = "OnPlayPositioned"
  var23[1] = "audio/change_clothes.wav"
  var23.netid = GetLocal().netid
  SendVarlist(var23)
return true
end
end
AddCallback("enab_visual","OnPacket",enab_visual)

function reset_vis(type, packet)
if packet:find("buttonClicked|vcreset") then
SendVarlist(vart)
OnTextOverlay("Visual Clothes `2Reset")
RemoveCallback("enab_visual")
return true
end
end
AddCallback("reset_vis","OnPacket",reset_vis)




function set_save_clothes(type, packet)
  if packet == ("action|input\n|text|/clothe") or packet == ("action|input\n|text|/clothes") then
OnConsoleMessage("`0[ `2Erza  `0] `2Changing clothes")
new_clothes()
local var = {}
var[0] = "OnParticleEffect"
var[1] = 73
var[2] = { GetLocal().pos_x + 10, GetLocal().pos_y + 15}
var[3] = 0
var[4] = 0
var.netid = -1

SendVarlist(var)
  return true
  end
end
  
AddCallback("set_save_clothes","OnPacket", set_save_clothes)

function start_stop_check_gems(type, packet)
if packet == ("action|input\n|text|/bj") then
if gems_checker then
OnConsoleMessage("`0[ `2Erza  `0] `2BJ gems checker is `2off")
gems_checker = false
   else
OnConsoleMessage("`0[ `2Erza  `0] `2BJ gems checker is `2on")
gems_checker = true
end
   RunThread(function()
   setgems()
   end)
return true
end
end
AddCallback("start_stop_check_gems","OnPacket", start_stop_check_gems)

gems_checker = false

function setgems()
while gems_checker do
if GetLocal().world ~= "EXIT" then
Local_Gems = GetLocal().gems
Sleep(500)
if Local_Gems ~= GetLocal().gems then
Sleep(500)
var = {}
var[0] = "OnTalkBubble"
var[1] = GetLocal().netid
var[2] = SendPacket(2, "action|input\n|text|`2Collected Gems `2+"..math.floor(GetLocal().gems -Local_Gems))
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
end
end
end
end

function start_stop_check_gems1(type, packet)
if packet == ("action|input\n|text|/bjc") then
if gems_checker then
OnConsoleMessage("`0[ `2Erza  `0] `2BJ gems checker is `2off")
gems_checker1 = false
   else
OnConsoleMessage("`0[ `2Erza  `0] `2BJ gems checker is `2on")
gems_checker1 = true
end
   RunThread(function()
   setgems1()
   end)
return true
end
end
AddCallback("start_stop_check_gems1","OnPacket", start_stop_check_gems1)

gems_checker1 = false

function setgems1()
while gems_checker1 do
if GetLocal().world ~= "EXIT" then
Local_Gems = GetLocal().gems
Sleep(1000)
if Local_Gems ~= GetLocal().gems then
Sleep(500)
var = {}
var[0] = "OnTalkBubble"
var[1] = GetLocal().netid
var[2] = "`2Collected `2+"..math.floor(GetLocal().gems -Local_Gems).." `2Gems"
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
end
end
end
end


vend_modexd = false

function ve(type, packet)
if packet == ("action|input\n|text|/ve") then
vend_modexd = true
OnConsoleMessage("`0[ `2Erza  `0] `2vend mode set to `2empty")
function vend_mode(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|vending|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|vending\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|pullstock")
return true
end
end
AddCallback("vend_mode", "OnVarlist", vend_mode)
return true
end
end

AddCallback("ve","OnPacket", ve)

function va(type, packet)
if packet == ("action|input\n|text|/va") then
vend_modexd = true
OnConsoleMessage("`0[ `2Erza  `0] `2vend mode set to `2add")
function vend_mode(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|vending|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|vending\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|addstock")
return true
end
end
AddCallback("vend_mode", "OnVarlist", vend_mode)
return true
end
end

AddCallback("va","OnPacket", va)

vend_buy = false

function set_vb(type, packet)
if packet:find("action|input\n|text|/vb") then
vend_modexd = true
set_vb_123 = packet:gsub("action|input\n|text|/vb", "")
set_vb = tonumber(set_vb_123)
OnConsoleMessage("`0[ `2Erza  `0] `2Amount to buy : `2"..set_vb.."")
vend_buy = true
function vend_mode(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|vending|Close|Buy|") then
x_buy = varlist[1]:match("embed_data|tilex|(%d+)")
y_buy = varlist[1]:match("embed_data|tiley|(%d+)")
expectitem_buy = varlist[1]:match("embed_data|expectitem|(%d+)")
expectprice_buy = varlist[1]:match('expectprice|[%d%-]+'):match('%|.*'):sub(2)
SendPacket(2, "action|dialog_return\ndialog_name|vending\ntilex|"..x_buy.."|\ntiley|"..y_buy.."|\nexpectprice|"..expectprice_buy.."|\nexpectitem|"..expectitem_buy.."|\nbuycount|"..set_vb)
return true
end
end
AddCallback("vend_mode", "OnVarlist", vend_mode)

function buy_vend_2(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|vending|Cancel|OK|") then
x_buy = varlist[1]:match("embed_data|tilex|(%d+)")
y_buy = varlist[1]:match("embed_data|tiley|(%d+)")
expectitem_buy = varlist[1]:match("embed_data|expectitem|(%d+)")
buy_count = varlist[1]:match("embed_data|buycount|(%d+)")
expectprice_buy = varlist[1]:match('expectprice|[%d%-]+'):match('%|.*'):sub(2)
SendPacket(2, "action|dialog_return\ndialog_name|vending\ntilex|"..x_buy.."|\ntiley|"..y_buy.."|\nverify|1|\nbuycount|"..buy_count.."|\nexpectprice|"..expectprice_buy.."|\nexpectitem|"..expectitem_buy.."|")
return true
end
end
AddCallback("buy_vend_2", "OnVarlist", buy_vend_2)

return true
end
end
AddCallback("set_vb","OnPacket", set_vb)

function voff(type, packet)
if packet == ("action|input\n|text|/voff") then
vend_modexd = false
OnConsoleMessage("`0[ `2Erza  `0] `2vend mode is now `2off")
RemoveCallback("vend_mode")
if vend_buy then
RemoveCallback("buy_vend_2")
end
return true
end
end

AddCallback("voff","OnPacket", voff)

function start_stop_collect(type, packet)
if packet == ("action|input\n|text|/autocollect") or packet == ("action|input\n|text|/ac") then
if autocollect then
OnConsoleMessage("`0[ `2Erza  `0] `2autocollect is `2off")
autocollect = false
   else
OnConsoleMessage("`0[ `2Erza  `0] `2autocollect is `2on")
autocollect = true
end
   RunThread(function()
   setcollect()
   end)
return true
end
end
AddCallback("start_stop_collect","OnPacket", start_stop_collect)

autocollect = false
function setcollect()
while autocollect do
var2 = {}
var2[0] =""
var2[1] ="" 
var2.netid = -1
SendVarlist(var2)
function collectItems(range, delay, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
Sleep(10)
	end
end


function wp(type, packet)
if packet == ("action|input\n|text|/wp") then
mode_wm = "pull"
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2pull")
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/pull "..x2)
OnTextOverlay("Successfully `5Pull `0"..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench)
return true
end
end

AddCallback("wp","OnPacket", wp)

function wk(type, packet)
if packet == ("action|input\n|text|/wk") then
mode_wm = "kick"
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2kick")
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/kick "..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench) 
return true
end
end

AddCallback("wk","OnPacket", wk)

function wb(type, packet)
if packet == ("action|input\n|text|/wb") then
mode_wm = "ban"
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode set to `2ban")
function Wrench(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|report_player|") then
x = varlist[1]:removeColors()
x2 = x:match("add_label_with_icon|big|(%w+)")
SendPacket(2, "action|input\n|text|/ban "..x2)
return true
end
end
AddCallback("Wrench", "OnVarlist", Wrench)
return true
end
end

AddCallback("wb","OnPacket", wb)

function woff(type, packet)
if packet == ("action|input\n|text|/woff") then
mode_wm = "off"
OnConsoleMessage("`0[ `2Erza  `0] `2wrench mode is now `2off")
RemoveCallback("Wrench") 
return true
end
end

AddCallback("woff","OnPacket", woff)

ut_adder_mode = false

function UT_adder(varlist)
if ut_adder_mode then
function UT_mode1(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemsucker_block|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemsucker_block\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|additem\nchk_enablesucking|1")
return true
end
end
AddCallback("UT_mode1", "OnVarlist", UT_mode1)

function UT_mode2(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemaddedtosucker|Close|Add|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemaddedtosucker\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nitemtoadd|"..varlist[1]:match("have (%d+)").."")
return true
end
end
AddCallback("UT_mode2", "OnVarlist", UT_mode2)
end
end
AddCallback("UT_adder", "OnVarlist", UT_adder)

ut_emptier_mode = false

function UT_emptier(varlist)
if ut_emptier_mode then
function UT_mode3(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemsucker_block|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemsucker_block\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|retrieveitem\nchk_enablesucking|1")
return true
end
end
AddCallback("UT_mode3", "OnVarlist", UT_mode3)

function UT_mode4(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemremovedfromsucker|Close|Retrieve|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemremovedfromsucker\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nitemtoremove|"..varlist[1]:match("Amount:|(%d+)").."")
return true
end
end
AddCallback("UT_mode4", "OnVarlist", UT_mode4)
end
end
AddCallback("UT_emptier", "OnVarlist", UT_emptier)

function ut_adder_hook(type, packet)
if packet == ("action|input\n|text|/ut add") or packet == ("action|input\n|text|/ua") then
ut_of_or_no = true
if ut_emptier_mode then
ut_emptier_mode = false
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
end
ut_adder_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast UT adder `2enabled")
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
AddCallback("UT_mode1", "OnVarlist", UT_mode1)
AddCallback("UT_mode2", "OnVarlist", UT_mode2)
return true
end
end

AddCallback("ut_adder_hook","OnPacket", ut_adder_hook)

function ut_emptier_hook(type, packet)
if packet == ("action|input\n|text|/ut empty") or packet == ("action|input\n|text|/ue") then
ut_of_or_no = true
if ut_adder_mode then
ut_adder_mode = false
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
end
ut_emptier_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast UT emptier `2enabled")
AddCallback("UT_mode3", "OnVarlist", UT_mode3)
AddCallback("UT_mode4", "OnVarlist", UT_mode4)
return true
end
end

AddCallback("ut_emptier_hook","OnPacket", ut_emptier_hook)

function ut_on_off(type, packet)
if packet == ("action|input\n|text|/ut off") or packet == ("action|input\n|text|/uoff") then
ut_of_or_no = false
OnConsoleMessage("`0[ `2Erza  `0] `2UT mode is now `2off")
if ut_adder_mode then
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
ut_adder_mode = false
end
if ut_emptier_mode then
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
end
return true
end
end

AddCallback("ut_on_off","OnPacket", ut_on_off)

function Ut_commands(type, packet)
if packet == ("action|input\n|text|/ut") then
if ut_adder_mode then
ut_mode_69 = "`2Fast Add"
elseif ut_emptier_mode then
ut_mode_69 = "`2Fast Empty"
elseif not ut_emptier_mode and not ut_adder_mode then
ut_mode_69 = "`4Disabled"
end
if ut_of_or_no and ut_adder_mode then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Unstable Tesseract Commands|left|6948|
add_spacer|small|
add_textbox|`5^Currently UT Mode is `2Enabled `2And is Set To : `0]]..ut_mode_69..[[|left|
add_spacer|small|
add_button|UT_add|`2Fast Adder|noflags|0|0|
add_button|UT_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|UT_off|`@Turn off UT mode|noflags|0|0|
add_quick_exit|
end_dialog|ut_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif ut_of_or_no and ut_emptier_mode then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Unstable Tesseract Commands|left|6948|
add_spacer|small|
add_textbox|`5^Currently UT Mode is `2Enabled `2And is Set To : `0]]..ut_mode_69..[[|left|
add_spacer|small|
add_button|UT_add|`2Fast Adder|noflags|0|0|
add_button|UT_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|UT_off|`@Turn off UT mode|noflags|0|0|
add_quick_exit|
end_dialog|ut_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
else
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Unstable Tesseract Commands|left|6948|
add_spacer|small|
add_textbox|`5^Currently UT Mode is `4Disabled|left|
add_spacer|small|
add_button|UT_add|`2Fast Adder|noflags|0|0|
add_button|UT_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|UT_off|`@Turn off UT mode|noflags|0|0|
add_quick_exit|
end_dialog|ut_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end
return true
end
end

AddCallback("Ut_commands","OnPacket", Ut_commands)

function UT_modes12(type, packet)
if packet:find("buttonClicked|UT_add") then
ut_of_or_no = true
if ut_emptier_mode then
ut_emptier_mode = false
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
end
ut_adder_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast UT adder `2enabled")
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
AddCallback("UT_mode1", "OnVarlist", UT_mode1)
AddCallback("UT_mode2", "OnVarlist", UT_mode2)
return true
elseif packet:find("buttonClicked|UT_empty") then
ut_of_or_no = true
if ut_adder_mode then
ut_adder_mode = false
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
end
ut_emptier_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast UT emptier `2enabled")
AddCallback("UT_mode3", "OnVarlist", UT_mode3)
AddCallback("UT_mode4", "OnVarlist", UT_mode4)
return true
elseif packet:find("buttonClicked|UT_off") then
ut_of_or_no = false
OnConsoleMessage("`0[ `2Erza  `0] `2UT mode is now `2off")
if ut_adder_mode then
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
ut_adder_mode = false
end
if ut_emptier_mode then
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
ut_emptier_mode = false
end
return true
end
end

AddCallback("UT_modes12", "OnPacket", UT_modes12)

gaia_adder_mode = false

function GAIA_adder(varlist)
if gaia_adder_mode then
function GAIA_mode1(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemsucker_seed|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemsucker_seed\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|additem\nchk_enablesucking|1")
return true
end
end
AddCallback("GAIA_mode1", "OnVarlist", GAIA_mode1)

function GAIA_mode2(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemaddedtosucker|Close|Add|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemaddedtosucker\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nitemtoadd|"..varlist[1]:match("have (%d+)").."")
return true
end
end
AddCallback("GAIA_mode2", "OnVarlist", GAIA_mode2)
end
end
AddCallback("GAIA_adder", "OnVarlist", GAIA_adder)

gaia_emptier_mode = false

function GAIA_emptier(varlist)
if gaia_emptier_mode then
function GAIA_mode3(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemsucker_seed|Close|Update|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemsucker_seed\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|retrieveitem\nchk_enablesucking|1")
return true
end
end
AddCallback("GAIA_mode3", "OnVarlist", GAIA_mode3)

function GAIA_mode4(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|itemremovedfromsucker|Close|Retrieve|") then
SendPacket(2, "action|dialog_return\ndialog_name|itemremovedfromsucker\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nitemtoremove|"..varlist[1]:match("Amount:|(%d+)").."")
return true
end
end
AddCallback("GAIA_mode4", "OnVarlist", GAIA_mode4)
end
end
AddCallback("GAIA_emptier", "OnVarlist", GAIA_emptier)

function gaia_adder_hook(type, packet)
if packet == ("action|input\n|text|/gadd") or packet == ("action|input\n|text|/ga") then
gaia_of_or_no = true
if gaia_emptier_mode then
gaia_emptier_mode = false
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
end
gaia_adder_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast GAIA adder `2enabled")
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
AddCallback("GAIA_mode1", "OnVarlist", GAIA_mode1)
AddCallback("GAIA_mode2", "OnVarlist", GAIA_mode2)
return true
end
end

AddCallback("gaia_adder_hook","OnPacket", gaia_adder_hook)

function gaia_emptier_hook(type, packet)
if packet == ("action|input\n|text|/gempty") or packet == ("action|input\n|text|/ge") then
gaia_of_or_no = true
if gaia_adder_mode then
gaia_adder_mode = false
RemoveCallback("GAIA_mode1")
RemoveCallback("GAIA_mode2")
end
gaia_emptier_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast GAIA emptier `2enabled")
AddCallback("GAIA_mode3", "OnVarlist", GAIA_mode3)
AddCallback("GAIA_mode4", "OnVarlist", GAIA_mode4)
return true
end
end

AddCallback("gaia_emptier_hook","OnPacket", gaia_emptier_hook)

function gaia_on_off(type, packet)
if packet == ("action|input\n|text|/gaia off") or packet == ("action|input\n|text|/goff") then
gaia_of_or_no = false
OnConsoleMessage("`0[ `2Erza  `0] `2GAIA mode is now `2off")
if gaia_adder_mode then
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
gaia_adder_mode = false
end
if gaia_emptier_mode then
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
gaia_emptier_mode = false
end
return true
end
end

AddCallback("gaia_on_off","OnPacket", gaia_on_off)

function Gaia_commands(type, packet)
if packet == ("action|input\n|text|/gaia") then
if gaia_of_or_no and gaia_adder_mode then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Gaia's Beacon Commands|left|6946|
add_spacer|small|
add_textbox|`5^Currently GAIA Mode is `2Enabled `2And is Set To : `2Fast Add|left|
add_spacer|small|
add_button|GAIA_add|`2Fast Adder|noflags|0|0|
add_button|GAIA_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|GAIA_off|`@Turn off GAIA mode|noflags|0|0|
add_quick_exit|
end_dialog|gaia_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif gaia_of_or_no and gaia_emptier_mode then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Gaia's Beacon Commands|left|6946|
add_spacer|small|
add_textbox|`5^Currently GAIA Mode is `2Enabled `2And is Set To : `2Fast Empty|left|
add_spacer|small|
add_button|GAIA_add|`2Fast Adder|noflags|0|0|
add_button|GAIA_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|GAIA_off|`@Turn off GAIA mode|noflags|0|0|
add_quick_exit|
end_dialog|gaia_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
else
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Gaia's Beacon Commands|left|6946|
add_spacer|small|
add_textbox|`5^Currently GAIA Mode is `4Disabled|left|
add_spacer|small|
add_button|GAIA_add|`2Fast Adder|noflags|0|0|
add_button|GAIA_empty|`2Fast Emptier|noflags|0|0|
add_spacer|small|
add_button|GAIA_off|`@Turn off GAIA mode|noflags|0|0|
add_quick_exit|
end_dialog|gaia_mode_xd|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end
return true
end
end

AddCallback("Gaia_commands","OnPacket", Gaia_commands)
function GAIA_modes12(type, packet)
if packet:find("buttonClicked|GAIA_add") then
gaia_of_or_no = true
if gaia_emptier_mode then
gaia_emptier_mode = false
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
end
gaia_adder_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast GAIA adder `2enabled")
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
AddCallback("GAIA_mode1", "OnVarlist", GAIA_mode1)
AddCallback("GAIA_mode2", "OnVarlist", GAIA_mode2)
return true
elseif packet:find("buttonClicked|GAIA_empty") then
gaia_of_or_no = true
if gaia_adder_mode then
gaia_adder_mode = false
RemoveCallback("GAIA_mode1")
RemoveCallback("GAIA_mode2")
end
gaia_emptier_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast GAIA emptier `2enabled")
AddCallback("GAIA_mode3", "OnVarlist", GAIA_mode3)
AddCallback("GAIA_mode4", "OnVarlist", GAIA_mode4)
return true
elseif packet:find("buttonClicked|GAIA_off") then
gaia_of_or_no = false
OnConsoleMessage("`0[ `2Erza  `0] `2GAIA mode is now `2off")
if gaia_adder_mode then
RemoveCallback("UT_mode1")
RemoveCallback("UT_mode2")
gaia_adder_mode = false
end
if gaia_emptier_mode then
RemoveCallback("UT_mode3")
RemoveCallback("UT_mode4")
gaia_emptier_mode = false
end
return true
end
end

AddCallback("GAIA_modes12", "OnPacket", GAIA_modes12)

function donation_check_uid(type, packet)
if packet == ("action|input\n|text|/donate") then
if mode_donation_boxes == "off" then
type_donation_box = "`4Disabled"
else
type_donation_box = "`2Enabled"
end
if type_donation_box == "`4Disabled" and mode_donation_boxes1 == "Donation_Off" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Donation Box Commands|left|1390|
add_spacer|small|
add_textbox|`5^Currently Donation Mode is `4Disabled|left|
add_spacer|small|
add_button|empty_xd_donations|`2Fast Empty Donation Box|noflags|0|0|
add_button|add_xd_donations|`2Fast Donate Items|noflags|0|0|
add_spacer|small|
add_button|off_xd_donations|`2Turn off donation mode|noflags|0|0|
add_quick_exit|
end_dialog|donate_world_ui|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif type_donation_box == "`2Enabled" and mode_donation_boxes == "Donation_Empty" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Donation Box Commands|left|1390|
add_spacer|small|
add_textbox|`5^Currently Donation Mode is `2Enabled `2And is Set To : `2Fast Empty|left|
add_spacer|small|
add_button|empty_xd_donations|`2Fast Empty Donation Box|noflags|0|0|
add_button|add_xd_donations|`2Fast Donate Items|noflags|0|0|
add_spacer|small|
add_button|off_xd_donations|`@Turn off donation mode|noflags|0|0|
add_quick_exit|
end_dialog|donate_world_ui|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif type_donation_box == "`2Enabled" and mode_donation_boxes == "Donation_Add" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Donation Box Commands|left|1390|
add_spacer|small|
add_textbox|`5^Currently Donation Mode is `2Enabled `2And is Set To : `2Fast Add|left|
add_spacer|small|
add_button|empty_xd_donations|`2Fast Empty Donation Box|noflags|0|0|
add_button|add_xd_donations|`2Fast Donate Items|noflags|0|0|
add_spacer|small|
add_button|off_xd_donations|`@Turn off donation mode|noflags|0|0|
add_quick_exit|
end_dialog|donate_world_ui|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
end
return true
end
end

AddCallback("donation_check_uid","OnPacket", donation_check_uid)

auto_put_donationbox_mode = false

function auto_put_donationbox(varlist)
if auto_put_donationbox_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|give_item|||") then
SendPacket(2, "action|dialog_return\ndialog_name|give_item\nitemID|"..varlist[1]:match("embed_data|itemID|(%d+)").."|\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|give\ncount|"..varlist[1]:match("add_text_input|count|Count:|(%d+)").."\nsign_text|")
return true
end
end
end
AddCallback("auto_put_donationbox", "OnVarlist", auto_put_donationbox)

function auto_put_donationbox_hook_xd(type, packet)
if packet == ("action|input\n|text|/donate add") or packet == ("action|input\n|text|/da") then
if auto_put_donationbox_mode == true then
mode_donation_boxes = "off"
mode_donation_boxes1 = "Donation_Off"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2fast empty donation `2disabled")
elseif auto_put_donationbox_mode == false then
mode_donation_boxes = "Donation_Add"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast empty donation `2enabled")
end
return true
end
end

AddCallback("auto_put_donationbox_hook_xd","OnPacket", auto_put_donationbox_hook_xd)

auto_empty_donationbox_mode = false

function auto_empty_donationbox(varlist)
if auto_empty_donationbox_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|donation_box_edit|Cancel||") then
SendPacket(2, "action|dialog_return\ndialog_name|donation_box_edit\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|clear")
return true
end
end
end
AddCallback("auto_empty_donationbox", "OnVarlist", auto_empty_donationbox)

function auto_empty_donationbox_hook_xd(type, packet)
if packet == ("action|input\n|text|/donate empty") or packet == ("action|input\n|text|/de")then
if auto_empty_donationbox_mode == true then
mode_donation_boxes = "off"
mode_donation_boxes1 = "Donation_Off"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2fast empty donation `2disabled")
elseif auto_empty_donationbox_mode == false then
mode_donation_boxes = "Donation_Empty"
auto_put_donationbox_mode = false
auto_empty_donationbox_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast empty donation `2enabled")
end
return true
end
end

AddCallback("auto_empty_donationbox_hook_xd","OnPacket", auto_empty_donationbox_hook_xd)

function donationoff(type, packet)
if packet == ("action|input\n|text|/donate off") or packet == ("action|input\n|text|/doff") then
mode_donation_boxes = "off"
mode_donation_boxes1 = "Donation_Off"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2Donation Box mode is now `2disabled")
return true
end
end

AddCallback("donationoff","OnPacket", donationoff)

function donation_modes_69(type, packet)
if packet:find("buttonClicked|empty_xd_donations") then
mode_donation_boxes = "Donation_Empty"
auto_put_donationbox_mode = false
auto_empty_donationbox_mode = true
function auto_empty_donationbox(varlist)
if auto_empty_donationbox_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|donation_box_edit|Cancel||") then
SendPacket(2, "action|dialog_return\ndialog_name|donation_box_edit\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|clear")
return true
end
end
end
AddCallback("auto_empty_donationbox", "OnVarlist", auto_empty_donationbox)
return true
elseif packet:find("buttonClicked|add_xd_donations") then
mode_donation_boxes = "Donation_Add"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = true
function auto_put_donationbox(varlist)
if auto_put_donationbox_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|give_item|||") then
SendPacket(2, "action|dialog_return\ndialog_name|give_item\nitemID|"..varlist[1]:match("embed_data|itemID|(%d+)").."|\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nbuttonClicked|give\ncount|"..varlist[1]:match("add_text_input|count|Count:|(%d+)").."\nsign_text|")
return true
end
end
end
AddCallback("auto_put_donationbox", "OnVarlist", auto_put_donationbox)
return true
elseif packet:find("buttonClicked|off_xd_donations") then
mode_donation_boxes = "off"
mode_donation_boxes1 = "Donation_Off"
auto_empty_donationbox_mode = false
auto_put_donationbox_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2Donation Box mode is now `2disabled")
return true
end
end

AddCallback("donation_modes_69", "OnPacket", donation_modes_69)

mode_donation_boxes = "off"


auto_ban_fire_maker_mode = false

function auto_ban_fire_maker(varlist)
if auto_ban_fire_maker_mode then
function fireban(v)
if v[0] == "OnTalkBubble" and v[2]:find("`4MWAHAHAHA!!") then
netid = v[1]
OnConsoleMessage("`0[ `2Erza  `0] `2Player with a netid of `2"..netid.." `2placed a pocket lighter !")
pkt = [[action|wrench
|netid|]]..netid
pkt2 = [[action|dialog_return
dialog_name|popup
netID|]]..netid..[[|
netID|]]..netid..[[|
buttonClicked|worldban]]
SendPacket(2, pkt)
SendPacket(2, pkt2)
return true
end
end
AddCallback("fire", "OnVarlist", fireban)
end
end
AddCallback("auto_ban_fire_maker", "OnVarlist", auto_ban_fire_maker)

function auto_ban_fire_maker_hook_xd(type, packet)
if packet == ("action|input\n|text|/fire ban") then
if auto_ban_fire_maker_mode == true then
auto_ban_fire_maker_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2auto ban fire maker `2disabled")
RemoveCallback("fire")
elseif auto_ban_fire_maker_mode == false then
auto_ban_fire_maker_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2auto ban fire maker `2enabled")
AddCallback("fire","OnVarlist", fire)
end
return true
end
end

AddCallback("auto_ban_fire_maker_hook_xd","OnPacket", auto_ban_fire_maker_hook_xd)

fd_mode = false

function fd(varlist)
if fd_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|drop_item|Cancel|OK|") then
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|"..varlist[1]:match("itemID|(%d+)").."|\ncount|"..varlist[1]:match("count||(%d+)").."")
return true
end
end
end
AddCallback("fd", "OnVarlist", fd)

function fd_hook_xd(type, packet)
if packet == ("action|input\n|text|/fd") then
if fd_mode == true then
fd_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2fast drop `2disabled")
RemoveCallback("fd")
elseif fd_mode == false then
fd_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast drop `2enabled")
AddCallback("fd","OnVarlist", fd)
end
return true
end
end

AddCallback("fd_hook_xd","OnPacket", fd_hook_xd)


ft_mode = false

function ft(varlist)
if ft_mode then
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|trash_item|Cancel|OK|") then
SendPacket(2, "action|dialog_return\ndialog_name|trash_item\nitemID|"..varlist[1]:match("embed_data|itemID|(%d+)").."|\ncount|"..varlist[1]:match("you have (%d+)"))
return true
end
end
end
AddCallback("ft", "OnVarlist", ft)

function ft_hook_xd(type, packet)
if packet == ("action|input\n|text|/ft") then
if ft_mode == true then
ft_mode = false
OnConsoleMessage("`0[ `2Erza  `0] `2fast trash `2disabled")
RemoveCallback("ft")
elseif ft_mode == false then
ft_mode = true
OnConsoleMessage("`0[ `2Erza  `0] `2fast trash `2enabled")
AddCallback("ft","OnVarlist", ft)
end
return true
end
end

AddCallback("ft_hook_xd","OnPacket", ft_hook_xd)

set_mod_joinx2 = "off"

function join_commands(type, packet)
if packet == ("action|input\n|text|/join") then
if set_mod_join == "pull" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Join Commands|left|3798|
add_spacer|small|
add_textbox|`5^Currently Join Mode is `2Enabled `2And is Set To : `0]]..set_mod_join..[[|left|
add_spacer|small|
add_button|join_pull|`2Join Pull|noflags|0|0|
add_button|join_kick|`2Join Kick|noflags|0|0|
add_button|join_ban|`2Join Ban|noflags|0|0|
add_spacer|small|
add_button|join_off|`@Turn Off Join Mode|noflags|0|0|
add_quick_exit|
end_dialog|join_commands|`4Cancel|`2Okay|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif set_mod_join == "kick" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Join Commands|left|3798|
add_spacer|small|
add_textbox|`5^Currently Join Mode is `2Enabled `2And is Set To : `0]]..set_mod_join..[[|left|
add_spacer|small|
add_button|join_pull|`2Join Pull|noflags|0|0|
add_button|join_kick|`2Join Kick|noflags|0|0|
add_button|join_ban|`2Join Ban|noflags|0|0|
add_spacer|small|
add_button|join_off|`@Turn Off Join Mode|noflags|0|0|
add_quick_exit|
end_dialog|join_commands|`4Cancel|`2Okay|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif set_mod_join == "ban" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Join Commands|left|3798|
add_spacer|small|
add_textbox|`5^Currently Join Mode is `2Enabled `2And is Set To : `0]]..set_mod_join..[[|left|
add_spacer|small|
add_button|join_pull|`2Join Pull|noflags|0|0|
add_button|join_kick|`2Join Kick|noflags|0|0|
add_button|join_ban|`2Join Ban|noflags|0|0|
add_spacer|small|
add_button|join_off|`@Turn Off Join Mode|noflags|0|0|
add_quick_exit|
end_dialog|join_commands|`4Cancel|`2Okay|
]]
varlist.netid = -1
SendVarlist(varlist)
elseif set_mod_join == "off" then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`$Join Commands|left|3798|
add_spacer|small|
add_textbox|`5^Currently Join Mode is `4Disabled|left|
add_spacer|small|
add_button|join_pull|`2Join Pull|noflags|0|0|
add_button|join_kick|`2Join Kick|noflags|0|0|
add_button|join_ban|`2Join Ban|noflags|0|0|
add_spacer|small|
add_button|join_off|`2Turn Off Join Mode|noflags|0|0|
add_quick_exit|
end_dialog|join_commands|`4Cancel|`2Okay|
]]
varlist.netid = -1
SendVarlist(varlist)
end
return true
end
end

AddCallback("join_commands","OnPacket", join_commands)

function join_ui_mode(type, packet)
if packet:find("buttonClicked|join_pull") then
set_mod_join = "pull"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
return true
elseif packet:find("buttonClicked|join_off") then
set_mod_join = "off"
OnConsoleMessage("`0[ `2Erza `0] `2turning off join mode")
RemoveCallback("when_join")
return true
elseif packet:find("buttonClicked|join_ban") then
set_mod_join = "ban"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
return true
elseif packet:find("buttonClicked|join_kick") then
set_mod_join = "kick"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
return true
end
end

AddCallback("join_ui_mode", "OnPacket", join_ui_mode)

function set_mod_join2(type, packet)
if packet:find("action|input\n|text|/j ") then
set_mod_joinx2 = packet:gsub("action|input\n|text|/j ", "")
if set_mod_joinx2 == "ban" then
set_mod_join = "ban"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
end
if set_mod_joinx2 == "kick" then
set_mod_join = "kick"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
end
if set_mod_joinx2 == "pull" then
set_mod_join = "pull"
OnConsoleMessage("`0[ `2Erza `0] `2join command set to : `2"..set_mod_join)
function when_join(vlist)
if vlist[0]=="OnSpawn" then
a = vlist[1]:match("name|(`.[^`]+)")
name = a:sub(3)
SendPacket(2,"action|input\n|text|/"..set_mod_join.." " .. name:lower())
end
end
AddCallback("when_join","OnVarlist", when_join)
end
if set_mod_joinx2 == "off" then
set_mod_join = "off"
OnConsoleMessage("`0[ `2Erza `0] `2turning off join mode")
RemoveCallback("when_join")
end
  return true
end
end
AddCallback("set_mod_join2","OnPacket", set_mod_join2)


function ssave(type, packet)
if packet:find("action|input\n|text|/ssaver") then
ssaver_name = packet:gsub("action|input\n|text|/ssaver ", "")
OnConsoleMessage("`0[ `2Erza  `0] `2Saver acc set to :`2"..ssaver_name)
return true
end
end
AddCallback("ssave","OnPacket", ssave)

function saver(type, packet)
if packet == ("action|input\n|text|/saver") then
OnConsoleMessage("`0[ `2Erza  `0] `2Pulling `2Saver acc")
SendPacket(2,"action|input\n|text|/pull " ..ssaver_name)
return true
end
end
AddCallback("saver","OnPacket", saver)

function fake_ban(type, packet)
if packet == ("action|input\n|text|/gift") then
SendPacket(3, "action|quit_to_exit")
ban_name = GetLocal().name
var2 = {}
var2[0] = "OnConsoleMessage"
var2[1] = "Reality flickers as you begin to wake up. (`$Ban`` mod added, `$730 days`` left)"
var2.netid = -1
SendVarlist(var2)

var2 = {}
var2[0] = "OnAddNotification"
var2[1] = "interface/atomic_button.rttex"
var2[2] = "Warning from `4System``: You've been `4BANNED`` from `wGrowtopia`` for 730 days"
var2[3] = "audio/hub_open.wav"
var2[4] = 0
var2.netid = -1
SendVarlist(var2)

var2 = {}
var2[0] = "OnConsoleMessage"
var2[1] = "Warning from `4System``: You've been `4BANNED`` from `wGrowtopia`` for 730 days"
var2.netid = -1
SendVarlist(var2)

var2 = {}
var2[0] = "OnConsoleMessage"
var2[1] = "`5** ```$The Ancients`` have used `5Ban`` on `w"..ban_name.."``! `5**``"
var2.netid = -1
SendVarlist(var2)

var2 = {}
var2[0] = "OnConsoleMessage"
var2[1] = "`4** `$"..ban_name.."`` AUTO-BANNED BY SYSTEM **`` (`$/rules`` to view rules)"
var2.netid = -1
SendVarlist(var2)
return true
end
end



AddCallback("fake_ban","OnPacket", fake_ban)

function spinall(type, packet)
if packet == ("action|input\n|text|/spinall") then
OnConsoleMessage("`0[ `2Erza  `0] `2Spinning all wheels")
local function Hit(x, y)
local p = {}
p.type = 3
p.int_data = 3704
p.int_x = x
p.int_y = y
p.pos_x = GetLocal().pos_x
p.pos_y = GetLocal().pos_y
SendPacketRaw(p)
end
local nocrash = {};
for i, v in pairs(GetTiles()) do
if v.fg == 758 then
table.insert(nocrash, {x = v.pos_x, y = v.pos_y})
end
end
local d = function()
for __, pos in pairs(nocrash) do
Hit(pos.x, pos.y)
Sleep(200)
if GetLocal().name == "NULL" then return end
end
end
RunThread(function()
d()
end)
return true
end
end

AddCallback("spinall","OnPacket", spinall)


autocrime = false

function auto_crime(type, packet)
if packet == ("action|input\n|text|/autocrime") or packet == ("action|input\n|text|/autoc") then
if autocrime then
autocrime = false
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-crime `2Stopped")
RemoveCallback("crime")
return true
else
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-crime `2Started")
autocrime = true
function crime(var)
if var[0]:find("OnDialogRequest") then
if var[1]:find("Devil Ham``%'s `2Crush`` card `4melted") then
liq = "yes"
end
if var[1]:find("Ms%. Terry") and var[1]:find("Ban Hammer") then
ban = "yes"
end

if var[1]:find("|Battle%!|")  then
x = var[1]:match("tilex|(%d+)")
y = var[1]:match("tiley|(%d+)")
OnConsoleMessage("`0[ `2Erza  `0] `2Villian : `2" .. var[1]:match("add_textbox|(.*)`` is"))

if var[1]:find("Crime in Progress") then
c1 = 2298
c2 = 2308
c3 = 2320
c4 = 2324
c5 = 2332
end
if var[1]:find("Jimmy Snow") then
use1 = c5
use2 = c4
use3 = c3
elseif var[1]:find("Big Bertha") then
use1 = c1
use2 = c4
use3 = c3
elseif var[1]:find("Shockinator") then
use1 = c4
use2 = c3
use3 = c1
elseif var[1]:find("The Firebug") then
use1 = c2
use2 = c1
use3 = c5
elseif var[1]:find("Generic Thug") or var[1]:find("Kat 5") then
use1 = c4
use2 = c3
use3 = c2
elseif var[1]:find("Professor Pummel") then
c1 = 2296
c2 = 2298
c3 = 2300
c4 = 2320
c5 = 2324
use1 = c3
use2 = c2
use3 = c1
elseif var[1]:find("Z%. Everett Koop") then
c1 = 2296
c2 = 2298
c3 = 2300
c4 = 2320
c5 = 2324
use1 = c3
use2 = c1
use3 = c2
elseif var[1]:find("Dr%. Destructo") then
c1 = 2298
c2 = 2308
c3 = 2310
c4 = 2314
c5 = 2316
step = "0"
use1 = c1
use2 = c3
use3 = c5
elseif var[1]:find("Dragon Hand") or var[1]:find("Almighty Seth") then
c1 = 2308
c2 = 2312
c3 = 2314
c4 = 2326
c5 = 2328
use1 = c5
use2 = c4
use3 = 6969
elseif var[1]:find("Devil Ham") then
c1 = 2298
c2 = 2332
c3 = 2334
c4 = 2336
c5 = 2338
use1 = c1
use2 = c4
use3 = c5
use4 = c3
use5 = c2

liq = "no"
step = "1"
elseif var[1]:find("Ms%. Terry") then
c1 = 2294
c2 = 2316
c3 = 2322
c4 = 2328
c5 = 2338
use1 = c1
use2 = c2
use3 = c3
use4 = c4
use5 = c5
ban = "no"
end

SendPacket(2,"action|dialog_return\ndialog_name|crime_edit\ntilex|" ..x .."|\ntiley|" ..y .."|\nstate|0||\nbuttonClicked|button_ok\n\nc" ..c1 .. "|1\nc" .. c2 .. "|1\nc" .. c3 .. "|1\nc" .. c4 .. "|1\nc" .. c5 .. "|1\n")
elseif var[1]:find("Fighting Crime") and var[1]:find("Devil Ham") then
if liq == "no" then
if var[1]:find("c" .. use1) then
use = use1
else
use = "passturn"
end
elseif var[1]:find("c" .. use2) and step == "0" then
step = "1"
use = use2
elseif var[1]:find("c" .. use3) then
use = use3
elseif var[1]:find("c" .. use4) then
use = use4
elseif var[1]:find("c" .. use5) then
use = use5
else
use = "passturn"
end

OnTextOverlay("`2Please wait..")
SendPacket(2,"action|dialog_return\ndialog_name|crime_edit\ntilex|" ..x .. "|\ntiley|" .. y .. "|\nstate|1||\nbuttonClicked|c" .. use)
elseif var[1]:find("Fighting Crime") and var[1]:find("Ms%. Terry") then
if var[1]:find("is going to play `%d") then
if var[1]:match("is going to play `(%d)") == "2" then
use = use1
elseif var[1]:match("is going to play `(%d)") == "4" then
use = use2
elseif var[1]:match("is going to play `(%d)") == "9" then
use = use4
elseif var[1]:match("is going to play `(%d)") == "1" then
use = use5
end
elseif var[1]:find("c" .. use3) then
use = use3
elseif var[1]:find("c" .. use5) and ban=="yes" then
use = use5
elseif var[1]:find("c" .. use1) then
use = use1
elseif var[1]:find("c" .. use4) then
use = use4
elseif var[1]:find("c" .. use5) then
use = use5
elseif var[1]:find("c" .. use2) then
use = use2
else
use = "passturn"
end

OnTextOverlay("`2Please wait..")
SendPacket(2,"action|dialog_return\ndialog_name|crime_edit\ntilex|" ..x .. "|\ntiley|" .. y .. "|\nstate|1||\nbuttonClicked|c" .. use)
elseif var[1]:find("Fighting Crime") and var[1]:find("Dr%. Destructo") then
if var[1]:find("c" .. use1) and step == "0" then
use = use1
step = "1"
elseif var[1]:find("c" .. use2) then
use = use2
elseif var[1]:find("c" .. use3) then
use = use3
else
use = "passturn"
end
OnTextOverlay("`2Please wait..")
SendPacket(2,"action|dialog_return\ndialog_name|crime_edit\ntilex|" ..x .. "|\ntiley|" .. y .. "|\nstate|1||\nbuttonClicked|c" .. use)
elseif var[1]:find("Fighting Crime") then
if var[1]:find("c" .. use1) then
use = use1
elseif var[1]:find("c" .. use2) then
use = use2
elseif var[1]:find("c" .. use3) then
use = use3
else
use = "passturn"
end

OnTextOverlay("`2Please wait..")
SendPacket(2, "action|dialog_return\ndialog_name|crime_edit\ntilex|" ..x .. "|\ntiley|" .. y .. "|\nstate|1||\nbuttonClicked|c" .. use)
end
return true
end
return false
end

AddCallback("crime", "OnVarlist", crime)

return true
end
end
end
AddCallback("auto_crime","OnPacket", auto_crime)

autosurg = false

hide_surg = false

function auto_surg(type, packet)
if packet == ("action|input\n|text|/autosurg") or packet == ("action|input\n|text|/autos") then
if autosurg then
autosurg = false
OnConsoleMessage("`0[ `2Erza `0] `2Auto-surg `2Stopped")
RemoveCallback("surg")
if hide_surg == true then
RemoveCallback("hide_surg")
end
return true
else
RunThread(function()
auto_surg_thread()
end)
return true
end
end
end
AddCallback("auto_surg","OnPacket", auto_surg)

function auto_surg_thread()

function hide_surg(varlist)
hide_surg = true
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|surge|Cancel|Okay!|") then
SendPacket(2, "action|dialog_return\ndialog_name|surge\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."")
return true
end
end
AddCallback("hide_surg", "OnVarlist", hide_surg)

autosurg = true
tool = ""
itool = 0
OnConsoleMessage("`0[ `2Erza `0] `2Auto-surg `2Started")
function auto()
   if tool == "Sponge" then
  itool = 1258
   elseif tool == "Splint" then
  itool = 1268
   elseif tool == "Antibiotic" then
  itool = 1266
   elseif tool == "Antiseptic" then
  itool = 1264  
   elseif tool == "Anesthetic" then
  itool = 1262
   elseif tool == "Scalpel" then
  itool = 1260
   elseif tool == "Stitches" then
  itool = 1270
   elseif tool == "Lab kit" then
  itool = 4318
   elseif tool == "Pins" then
  itool = 4308
   elseif tool == "Clamp" then
  itool = 4314
   elseif tool == "Transfusion" then
  itool = 4310
   elseif tool == "Ultrasound" then
  itool = 4316
   elseif tool == "Defibrillator" then
  itool = 4312
   elseif tool == "Fix it" then
  itool = 1296
   end
   SendPacket(2, "action|dialog_return\ndialog_name|surgery\nbuttonClicked|tool"..itool)
   Sleep(100)
   OnConsoleMessage("`0[ `2Erza `0] `2"..tool)
end

function surg(var)
   if var[0] == "OnDialogRequest" and var[1]:find("`4The patient wakes up!") and var[1]:find("tool1262") then
  tool = "Anesthetic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("`4The patient screams and flails!") and var[1]:find("tool1262") then
  tool = "Anesthetic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `4Heart stopped!(.+)") and var[1]:find("tool4312") then
  tool = "Defibrillator"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `6Coming to(.+)") and var[1]:find("tool1262") then
  tool = "Anesthetic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Pulse: `4(.+)") and var[1]:find("tool4310") then
  tool = "Transfusion"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `4(%d+)(.+)") and var[1]:find("tool1266") then
  tool = "Antibiotic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `4(%d+)(.+)") and var[1]:find("tool4318") then
  tool = "Lab kit"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `6(%d+)(.+)") and var[1]:find("tool1266") then
  tool = "Antibiotic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `6(%d+)(.+)") and var[1]:find("tool4318") then
  tool = "Lab kit"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `2(%d+)(.+)") and var[1]:find("tool1266") then
  tool = "Antibiotic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `2(%d+)(.+)") and var[1]:find("tool4318") then
  tool = "Lab kit"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `4very quickly!(.+)") and var[1]:find("tool4314") then
  tool = "Clamp"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `4very quickly!(.+)") and var[1]:find("tool1270") then
  tool = "Stitches"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is `6losing blood!(.+)") and var[1]:find("tool4314") then
  tool = "Clamp"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is `6losing blood!(.+)") and var[1]:find("tool1270") then
  tool = "Stitches"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Incisions: `20(.+)") and var[1]:find("tool1296") then
  tool = "Fix it"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Incisions: `20(.+)") and var[1]:find("tool1296") then
  tool = "Fix it"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("The patient has not been diagnosed.") and var[1]:find("tool4316") then
  tool = "Ultrasound"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `4Awake(.+)") and var[1]:find("tool1262") then
  tool = "Anesthetic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) broken``") and var[1]:find("tool1268") then
  tool = "Splint"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) broken``") and var[1]:find("tool1268") then
  tool = "Splint"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient broke his arm.") and var[1]:find("tool1270") then
  tool = "Stitches"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `2Awake(.+)") and var[1]:find("tool1262") then
  tool = "Anesthetic"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Pulse: `6(.+)") and var[1]:find("tool4310") then
  tool = "Transfusion"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("`4You can't see what you are doing!(.+)") and var[1]:find("tool1258") then
  tool = "Sponge"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("tool1296") and var[1]:find("tool1270") then
  tool = "Stitches"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `6(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `6(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `6(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `6(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `4(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `4(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `4(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `4(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) shattered(.+)") and var[1]:find("tool4308") then
  tool = "Pins"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) shattered(.+)") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient broke his leg.") and var[1]:find("tool1270") then
  tool = "Stitches"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `2slowly.(.+)") and var[1]:find("tool4314") then
  tool = "Clamp"
  auto()
  return true
   elseif var[0]:find("OnDialogRequest") and var[1]:find("tool1260") then
  tool = "Scalpel"
  auto()
  return true
   end
   return false
end
AddCallback("surg","OnVarlist", surg)
end


autosurghelper = false

function auto_surg_helper(type, packet)
if packet == ("action|input\n|text|/autosurghelper") or packet == ("action|input\n|text|/autosh") then
if autosurghelper then
autosurghelper = false
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-surg Helper `2Stopped")
RemoveCallback("surg")
if hide_surg == true then
RemoveCallback("hide_surg")
end
return true
else
if hide_surg == true then
RemoveCallback("hide_surg")
end
RunThread(function()
auto_surg_helper_thread()
end)
return true
end
end
end
AddCallback("auto_surg_helper","OnPacket", auto_surg_helper)

function auto_surg_helper_thread()
autosurghelper = true
tool = ""
itool = 0
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-surg Helper `2Started")
function auto()
   if tool == "Sponge" then
  itool = 1258
   elseif tool == "Splint" then
  itool = 1268
   elseif tool == "Antibiotic" then
  itool = 1266
   elseif tool == "Antiseptic" then
  itool = 1264  
   elseif tool == "Anesthetic" then
  itool = 1262
   elseif tool == "Scalpel" then
  itool = 1260
   elseif tool == "Stitches" then
  itool = 1270
   elseif tool == "Lab kit" then
  itool = 4318
   elseif tool == "Pins" then
  itool = 4308
   elseif tool == "Clamp" then
  itool = 4314
   elseif tool == "Transfusion" then
  itool = 4310
   elseif tool == "Ultrasound" then
  itool = 4316
   elseif tool == "Defibrillator" then
  itool = 4312
   elseif tool == "Fix it" then
  itool = 1296
   end
   OnConsoleMessage("`0[ `2Erza  `0] `2"..tool)
   MessageBox("Surgery Helper", "Use "..tool)
end

function surg(var)
if var[0] == "OnDialogRequest" and var[1]:find("`4The patient wakes up!") and var[1]:find("tool1262") then
tool = "Anesthetic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("`4The patient screams and flails!") and var[1]:find("tool1262") then
tool = "Anesthetic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `4Heart stopped!(.+)") and var[1]:find("tool4312") then
tool = "Defibrillator"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `6Coming to(.+)") and var[1]:find("tool1262") then
tool = "Anesthetic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Pulse: `4(.+)") and var[1]:find("tool4310") then
tool = "Transfusion"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `4(%d+)(.+)") and var[1]:find("tool1266") then
tool = "Antibiotic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `4(%d+)(.+)") and var[1]:find("tool4318") then
tool = "Lab kit"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `6(%d+)(.+)") and var[1]:find("tool1266") then
tool = "Antibiotic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `6(%d+)(.+)") and var[1]:find("tool4318") then
tool = "Lab kit"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `2(%d+)(.+)") and var[1]:find("tool1266") then
tool = "Antibiotic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Temp: `2(%d+)(.+)") and var[1]:find("tool4318") then
tool = "Lab kit"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `4very quickly!(.+)") and var[1]:find("tool4314") then
tool = "Clamp"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `4very quickly!(.+)") and var[1]:find("tool1270") then
tool = "Stitches"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is `6losing blood!(.+)") and var[1]:find("tool4314") then
tool = "Clamp"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is `6losing blood!(.+)") and var[1]:find("tool1270") then
tool = "Stitches"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Incisions: `20(.+)") and var[1]:find("tool1296") then
tool = "Fix it"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Incisions: `20(.+)") and var[1]:find("tool1296") then
tool = "Fix it"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("The patient has not been diagnosed.") and var[1]:find("tool4316") then
tool = "Ultrasound"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `4Awake(.+)") and var[1]:find("tool1262") then
tool = "Anesthetic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) broken``") and var[1]:find("tool1268") then
tool = "Splint"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) broken``") and var[1]:find("tool1268") then
tool = "Splint"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient broke his arm.") and var[1]:find("tool1270") then
tool = "Stitches"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Status: `2Awake(.+)") and var[1]:find("tool1262") then
tool = "Anesthetic"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Pulse: `6(.+)") and var[1]:find("tool4310") then
tool = "Transfusion"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("`4You can't see what you are doing!(.+)") and var[1]:find("tool1258") then
tool = "Sponge"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("tool1296") and var[1]:find("tool1270") then
tool = "Stitches"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `6(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `6(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `6(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `6(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `4(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+), `4(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `4(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+), `4(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `6(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) shattered(.+)") and var[1]:find("tool4308") then
tool = "Pins"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Bones: `4(.+) shattered(.+)") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient broke his leg.") and var[1]:find("tool1270") then
tool = "Stitches"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("Patient is losing blood `2slowly.(.+)") and var[1]:find("tool4314") then
tool = "Clamp"
auto()
 elseif var[0]:find("OnDialogRequest") and var[1]:find("tool1260") then
tool = "Scalpel"
auto()
   end
   return false
end
AddCallback("surg","OnVarlist", surg)
end

autostartopia = false

function auto_startopia(type, packet)
if packet == ("action|input\n|text|/autostartopia") or packet == ("action|input\n|text|/autost") then
if autostartopia then
autostartopia = false
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-startopia `2Stopped")
RemoveCallback("startopia")
return true
else
RunThread(function()
auto_startopia_thread()
end)
return true
end
end
end
AddCallback("auto_startopia","OnPacket", auto_startopia)

function auto_startopia_thread()
autostartopia = true
step = 0
Mission = 0
OnConsoleMessage("`0[ `2Erza  `0] `2Auto-startopia `2Started")

function Drone()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6532")
	OnConsoleMessage("`0[ `2Erza  `0] `2Tactical Drone")
	Sleep(50)
end

function Teleporter()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6526")
	OnConsoleMessage("`0[ `2Erza  `0] `2Teleporter Charge")
	Sleep(50)
end

function Doc()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6534")
	OnConsoleMessage("`0[ `2Erza  `0] `2Stellar Documents")
	Sleep(50)
end

function Scan()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6530")
	OnConsoleMessage("`0[ `2Erza  `0] `2Quadriscanner")
	Sleep(50)
end

function Torp()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6540")
	OnConsoleMessage("`0[ `2Erza  `0] `2Growton Torpedo")
	Sleep(50)
end

function Dip()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6538")
	OnConsoleMessage("`0[ `2Erza  `0] `2Cyborg Diplomat")
	Sleep(50)
end

function Sup()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6536")
	OnConsoleMessage("`0[ `2Erza  `0] `2Star Supplies")
	Sleep(50)
end

function Giga()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6528")
	OnConsoleMessage("`0[ `2Erza  `0] `2Gigablaster")
	Sleep(50)
end

function Shield()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6518")
	OnConsoleMessage("`0[ `2Erza  `0] `2HyperShields")
	Sleep(50)
end

function AI()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6520")
	OnConsoleMessage("`0[ `2Erza  `0] `2AI Brain")
	Sleep(50)
end

function Gala()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6522")
	OnConsoleMessage("`0[ `2Erza  `0] `2Galactibolt")
	Sleep(50)
end

function Meds()
	SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|tool6524")
	OnConsoleMessage("`0[ `2Erza  `0] `2Space Meds")
	Sleep(50)
end

function startopia(var)
   if var[0] == "OnDialogRequest" and var[1]:find("end_dialog|startopia") and var[1]:find("Health") then
  if var[1]:find("add_label_with_icon|big|`w(%w+) Data") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 4 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 4 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2" .. var[1]:match("add_label_with_icon|big|`w(%w+) Data") .. " Data")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wSet a Course") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Set a Course")
end
Drone()
return true
 end
  elseif
 var[1]:find("add_label_with_icon|big|`wOutpost Attack")
 or var[1]:find("add_label_with_icon|big|`wOne Angry Ship")
  then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Torp()
   elseif step == 2 then
  Dip()
   elseif step == 3 or step == 5 then
  Teleporter()
   elseif step == 4 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Torp()
   elseif step == 2 then
  Dip()
   elseif step == 3 or step == 5 then
  Teleporter()
   elseif step == 4 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   if var[1]:find("Outpost Attack") then
  OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Outpost Attack")
   elseif var[1]:find("One Angry Ship") then
  OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2One Angry Ship")
   end
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wStarachnid Attack") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 then
  Torp()
   elseif step == 2 then
  Sup()
   elseif step == 4 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 then
  Torp()
   elseif step == 2 then
  Sup()
   elseif step == 4 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Starachnid Attack")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`w(%w+) Attack") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Shield()
   elseif step == 2 or step == 3 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Shield()
   elseif step == 2 or step == 3 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2" .. var[1]:match("add_label_with_icon|big|`w(%w+) Attack") .. " Attack")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wLife Pod") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Scan()
   elseif step == 2 then
  Meds()
   elseif step == 3 then
  Sup()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Teleporter()
   elseif step == 1 then
  Scan()
   elseif step == 2 then
  Meds()
   elseif step == 3 then
  Sup()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Life Pod")
end
Teleporter()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wBoarding Party") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 2 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Scan()
   elseif step == 1 or step == 2 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Boarding Party")
end
Scan()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wExperimental Salvage") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 2 or step == 3 then
  Teleporter()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 2 or step == 3 then
  Teleporter()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Experimental Salvage")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wDark Ship") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Teleporter()
   elseif step == 2 then
  AI()
   elseif step == 3 or step == 4 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Teleporter()
   elseif step == 2 then
  AI()
   elseif step == 3 or step == 4 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Dark Ship")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`w(%w+) Hunt") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 4 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 4 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2" .. var[1]:match("add_label_with_icon|big|`w(%w+) Hunt") .. " Hunt")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wWindy Days") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Windy Days")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wAncient Temple") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Dip()
   elseif step == 2 then
  Sup()
   elseif step == 3 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Dip()
   elseif step == 2 then
  Sup()
   elseif step == 3 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Ancient Temple")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wA Challenge") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 2 or step == 3 or step == 4 then
  Shield()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 2 or step == 3 or step == 4 then
  Shield()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2A Challenge?!")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wMiner Rescue") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Drone()
   elseif step == 2 or step == 4 or step == 5 then
  Teleporter()
   elseif step == 3 then
  Scan()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Gala()
   elseif step == 1 then
  Drone()
   elseif step == 2 or step == 4 or step == 5 then
  Teleporter()
   elseif step == 3 then
  Scan()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Miner Rescue")
end
Gala()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wHunter and Prey") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  AI()
   elseif step == 2 or step == 4 then
  Teleporter()
   elseif step == 3 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  AI()
   elseif step == 2 or step == 4 then
  Teleporter()
   elseif step == 3 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Hunter and Prey")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wGiant Skeleton") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  AI()
   elseif step == 2 then
  Shield()
   elseif step == 3 then
  Sup()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  AI()
   elseif step == 2 then
  Shield()
   elseif step == 3 then
  Sup()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Giant Skeleton")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wShadow Stalkers") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 or step == 7 then
  Teleporter()
   elseif step == 2 or step == 6 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Giga()
   elseif step == 8 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 5 or step == 7 then
  Teleporter()
   elseif step == 2 or step == 6 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Giga()
   elseif step == 8 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Shadow Stalkers")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wPlanet Calamity") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 or step == 6 then
  Teleporter()
   elseif step == 2 then
  AI()
   elseif step == 4 then
  Shield()
   elseif step == 5 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 or step == 6 then
  Teleporter()
   elseif step == 2 then
  AI()
   elseif step == 4 then
  Shield()
   elseif step == 5 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Planet Calamity")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wA Strange One") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Dip()
   elseif step == 2 then
  Gala()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Dip()
   elseif step == 2 or step == 6 then
  Gala()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2A Strange One")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wTasty Cakes") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 6 then
  Teleporter()
   elseif step == 2 or step == 4 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 5 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 6 then
  Teleporter()
   elseif step == 2 or step == 4 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 5 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Tasty Cakes")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wTaking Aim") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Taking Aim")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wBad Taste") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Dip()
   elseif step == 2 then
  Giga()
   elseif step == 3 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Teleporter()
   elseif step == 1 then
  Dip()
   elseif step == 2 then
  Doc()
   elseif step == 3 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Bad Taste")
end
Teleporter()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wSolar Impact!") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 or step == 7 then
  Gala()
   elseif step == 2 or step == 6 then
  Meds()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Drone()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Shield()
   elseif step == 1 then
  Gala()
   elseif step == 2 then
  Meds()
   elseif step == 3 then
  AI()
   elseif step == 4 then
  Drone()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Solar Impact!")
end
Shield()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wJunk Punks") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Drone()
   elseif step == 2 then
  Torp()
   elseif step == 3 then
  AI()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  AI()
   elseif step == 1 then
  Drone()
   elseif step == 2 then
  Torp()
   elseif step == 3 then
  AI()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Junk Punks")
end
AI()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wCryonite Crisis") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 9 then
  Teleporter()
   elseif step == 1 or step == 3 then
  Scan()
   elseif step == 2 then
  Giga()
   elseif step == 4 or step == 5 then
  AI()
   elseif step == 6 then
  Shield()
   elseif step == 7 then
  Gala()
   elseif step == 8 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 or step == 9 then
  Teleporter()
   elseif step == 1 or step == 3 then
  Scan()
   elseif step == 2 then
  Giga()
   elseif step == 4 or step == 5 then
  AI()
   elseif step == 6 then
  Shield()
   elseif step == 7 then
  Gala()
   elseif step == 8 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Cryonite Crisis")
end
Teleporter()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wSalvage Run") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 3 then
  Teleporter()
   elseif step == 2 then
  Scan()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Salvage Run")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wShip Rescue") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Drone()
   elseif step == 2 or step == 5 then
  Teleporter()
   elseif step == 3 then
  Scan()
   elseif step == 4 then
  Meds()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Gala()
   elseif step == 1 then
  Drone()
   elseif step == 2 or step == 5 then
  Teleporter()
   elseif step == 3 then
  Scan()
   elseif step == 4 then
  Meds()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Ship Rescue")
end
Gala()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wSkeleton Crew") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Scan()
   elseif step == 2 then
  AI()
   elseif step == 3 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Teleporter()
   elseif step == 1 then
  Scan()
   elseif step == 2 then
  AI()
   elseif step == 3 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Skeleton Crew")
end
Teleporter()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wGhost Ship") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Dip()
   elseif step == 4 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Dip()
   elseif step == 4 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Ghost Ship")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wPit o' Trouble") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 4 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 5 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 4 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 5 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Pit o' Trouble")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wClose Encounter") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 then
  AI()
   elseif step == 2 or step == 3 then
  Dip()
   elseif step == 4 then
  Scan()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 5 then
  AI()
   elseif step == 2 or step == 3 then
  Dip()
   elseif step == 4 then
  Scan()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Close Encounter")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wEscape Pod") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 6 then
  Meds()
   elseif step == 1 then
  Drone()
   elseif step == 4 or step == 7 then
  Scan()
   elseif step == 2 then
  Shield()
   elseif step == 3 or step == 8 then
  Teleporter()
   elseif step == 5 then
  Giga()
   elseif step == 9 then
  Torp()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 or step == 6 then
  Meds()
   elseif step == 1 then
  Drone()
   elseif step == 4 or step == 7 then
  Scan()
   elseif step == 2 then
  Shield()
   elseif step == 3 or step == 8 then
  Teleporter()
   elseif step == 5 then
  Giga()
   elseif step == 9 then
  Torp()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Escape Pod")
end
Meds()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wPrevent War") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Drone()
   elseif step == 2 then
  Dip()
   elseif step == 3 then
  Teleporter()
   elseif step == 4 then
  Doc()
   elseif step == 5 then
  Gala()
   elseif step == 6 then
  Sup()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Shield()
   elseif step == 1 then
  Drone()
   elseif step == 2 then
  Dip()
   elseif step == 3 then
  Teleporter()
   elseif step == 4 then
  Doc()
   elseif step == 5 then
  Gala()
   elseif step == 6 then
  Sup()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Prevent War")
end
Shield()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wMining Colony Rescue") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Teleporter()
   elseif step == 2 then
  Dip()
   elseif step == 3 then
  Meds()
   elseif step == 4 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Teleporter()
   elseif step == 2 then
  Dip()
   elseif step == 3 then
  Meds()
   elseif step == 4 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Mining Colony Rescue")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wMining Colony Delivery") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 4 then
  Sup()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 4 then
  Sup()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Mining Colony Delivery")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`w(%w+) Duel") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Shield()
   elseif step == 2 or step == 4 then
  Torp()
   elseif step == 3 then
  AI()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Shield()
   elseif step == 2 or step == 4 then
  Torp()
   elseif step == 3 then
  AI()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2" .. var[1]:match("add_label_with_icon|big|`w(%w+) Duel") .. " Duel")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`wMining Colony Delivery") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Sup()
   elseif step == 4 then
  Giga()
   elseif step == 5 then
  Doc()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Sup()
   elseif step == 4 then
  Giga()
   elseif step == 5 then
  Doc()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2".. var[1]:match("add_label_with_icon|big|`w(%w.-) Extermination").. " Extermination")
end
Drone()
return true
 end
  elseif var[1]:find("add_label_with_icon|big|`w(%w.-) Delivery") then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 4 then
  Sup()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 5 then
  Teleporter()
   elseif step == 2 then
  Scan()
   elseif step == 3 then
  Giga()
   elseif step == 4 then
  Sup()
   end
end
return true
 else
step = 0
if Mission == 0 then
   OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2".. var[1]:match("add_label_with_icon|big|`w(%w.-) Delivery").. " Delivery")
end
Drone()
return true
 end
  elseif
 var[1]:find("add_label_with_icon|big|`wWho's There")
 or var[1]:find("add_label_with_icon|big|`wShe's Gonna Blow")
  then
 if var[1]:find("Skill Success") or var[1]:find("Skill Fail") then
if var[1]:find("Skill Success") then
   step = step + 1
   if step == 1 then
  Teleporter()
   elseif step == 2 or step == 4 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 5 then
  Giga()
   end
elseif var[1]:find("Skill Fail") then
   if step == 0 then
  Drone()
   elseif step == 1 or step == 6 then
  Teleporter()
   elseif step == 2 or step == 4 then
  Scan()
   elseif step == 3 then
  AI()
   elseif step == 5 then
  Giga()
   end
end
return true
 else
step = 0
if Mission == 0 then
   if var[1]:find("|`wWho's There") then
  OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2Who's There?")
   else
  OnConsoleMessage("`0[ `2Erza  `0] `2Mission : `2She's Gonna Blow!")
   end
end
Drone()
return true
 end
  end
   elseif var[0] == "OnDialogRequest" and var[1]:find("Starship Helm") then
  SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|beginvoyage")
  return true
   elseif var[0] == "OnDialogRequest" and var[1]:find("It is a good day to flee!") then
  SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|failmission")
  OnConsoleMessage("`0[ `4fail `0]")
  return true
   elseif var[0] == "OnTalkBubble" and var[2]:find("You received") then
  return false
   elseif var[0] == "OnDialogRequest" and var[1]:find("The voyage continues!") then
  SendPacket(2, "action|dialog_return\ndialog_name|startopia\nbuttonClicked|finishmission")
  OnConsoleMessage("`0[ `2Success `0]")
  step = 0
  Mission = 0
  return true
   elseif var[0] == "OnDialogRequest" and var[1]:find("end_dialog|startopia") then
  return false
   end
   return false
end
AddCallback("startopia","OnVarlist", startopia)
end



function gemsx(type, packet)
if packet == ("action|input\n|text|/gems") then
OnConsoleMessage("`0[ `2Erza  `0] `2counting gems..")
count = 0
for _, obj in pairs(GetObjects()) do
if obj.id == 112  then
count = count + obj.count
end
end

count = math.floor(count)

var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2 gems in world is : "..count
var2.netid = -1
SendVarlist(var2)
return true
end
end

AddCallback("gemsx","OnPacket", gemsx)

settax_1 = 5

function settax(type, packet)
if packet:find("action|input\n|text|/settax") then
settax_main = packet:gsub("action|input\n|text|/settax", "")
settax_1 = tonumber(settax_main)
OnConsoleMessage("`0[ `2Erza  `0] `2tax set to : `2"..settax_1.."%")
  return true
end
end

AddCallback("settax","OnPacket", settax)

function tax(type, packet)
if packet:find("action|input\n|text|/tax") then
tax_1_1 = packet:gsub("action|input\n|text|/tax", "")
tax_1 = tonumber(tax_1_1)
real_tax = settax_1 * ( tax_1 / 100 )
real_tax = math.floor(real_tax)
tax_1_1 = math.floor(tax_1_1)
drop_tax = tax_1_1 - real_tax
OnConsoleMessage("`0[ `2Erza  `0] `2amount to drop : `2"..tax_1_1 - real_tax)
OnConsoleMessage("`0[ `2Erza  `0] `2amount to keep : `2"..real_tax)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = " `2Tax calculator`0\n`2Amount taken : `2"..tax_1.."\n`2amount to drop : `2"..drop_tax.."\n`2amount to keep : `2"..real_tax
var2.netid = -1
SendVarlist(var2)
  return true
end
end

AddCallback("tax","OnPacket", tax)


function dropall(type, packet)
if packet == ("action|input\n|text|/dropall") then
RunThread(function()
dropallxd()
end)
return true
end
end

AddCallback("dropall","OnPacket", dropall)

function dropallxd()
OnConsoleMessage("`0[ `2Erza  `0] `4dropping all items..")
for k,v in ipairs(GetInventory()) do
SendPacket(2 ,"action|drop\n|itemID|"..v.id)
SendPacket(2 ,"action|dialog_return\ndialog_name|drop_item\nitemID|"..v.id.."|\ncount|"..v.count)
Sleep(50)
end
OnConsoleMessage("`0[ `2Erza  `0] `2`2dropped all items")
end

set_harvest_id = 243
set_harvest_delay = "100000"
harvesting = false
function setharvest()   
while harvesting do
for _, tile in pairs(GetTiles()) do
if tile.fg == set_harvest_id then
				if tile.ready then
FindPath(tile.pos_x, tile.pos_y)
Sleep(set_harvest_delay)
pkt = {}
pkt.type = 3
pkt.int_data = 18
pkt.pos_x = GetLocal().pos_x
pkt.pos_y = GetLocal().pos_y
pkt.int_x = tile.pos_x
pkt.int_y = tile.pos_y
SendPacketRaw(pkt)
end
end
end
end
end

function set_harvest_id(type, packet)
if packet:find("action|input\n|text|/harvestid") then
set_harvest_id123 = packet:gsub("action|input\n|text|/harvestid", "")
set_harvest_id123 = tonumber(set_harvest_id123)
if (set_harvest_id123 % 2 ~= 0) then
set_harvest_id = tonumber(set_harvest_id123)
OnConsoleMessage("`0[ `2Erza  `0] `2harvest id set to : `2"..GetIteminfo(set_harvest_id).name)
return true
else
OnConsoleMessage("`0[ `2Erza  `0] `2seed id must be a odd number !")
return true
end
end
end

AddCallback("set_harvest_id","OnPacket", set_harvest_id)

function set_harvest_delay(type, packet)
if packet:find("action|input\n|text|/harvestdelay") then
set_harvest_delay123 = packet:gsub("action|input\n|text|/harvestdelay", "")
set_harvest_delay123 = tonumber(set_harvest_delay123)
if set_harvest_delay123 >= 150 then
set_harvest_delay = tonumber(set_harvest_delay123)
OnConsoleMessage("`0[ `2Erza  `0] `2harvest delay set to : `2"..set_harvest_delay.." `2Mili-Seconds ")
return true
else
OnConsoleMessage("`0[ `2Erza  `0] `2delay cant be less than 150 !")
return true
end
end
end

AddCallback("set_harvest_delay","OnPacket", set_harvest_delay)

function start_stop_harvest(type, packet)
if packet == ("action|input\n|text|/hv") then
if harvesting then
OnConsoleMessage("`0[ `2Erza  `0] `2harvest is `2off")
harvesting = false
   else
OnConsoleMessage("`0[ `2Erza  `0] `2harvest is `2on")
harvesting = true
end
   RunThread(function()
   setharvest()
   end)
return true
end
end
AddCallback("start_stop_harvest","OnPacket", start_stop_harvest)

function inv(type, packet)
if packet == ("action|input\n|text|/inv") then
OnConsoleMessage("`0[ `2Erza  `0] `2redcuing lag..")
for _,player in pairs(GetPlayers()) do
var2 = {}
var2[0] = "OnSetClothing"
var2[1] =  {0,0,0}
var2[2] =  {0,0,0}
var2[3] = {0,0,0}
var2[4] = 2
var2[5] =  {0, 0, 0}
var2.netid = player.netid
SendVarlist(var2)
end
return true
end
end

AddCallback("inv","OnPacket", inv)

function weatherlol(type, packet)
if packet == ("action|input\n|text|/weather") then
x =  math.random(1,66)
var = {}
var[0] = "OnSetCurrentWeather"
var[1] = x
var.netid = -1
SendVarlist(var)
OnConsoleMessage("`0[ `2Erza  `0] `2changing weather value to : `2"..x)
return true
end
end

AddCallback("change_weather","OnPacket", weatherlol)

function guildxx(type, packet)
if packet:find("action|input\n|text|/guild ") then
guildxxid = packet:gsub("action|input\n|text|/guild ", "")
OnConsoleMessage("`0[ `2Erza  `0] `2changing guild to `2" ..guildxxid)
guildxxid = tonumber(guildxxid)
var = {}
var[0] = "OnGuildDataChanged"
var[1] = 1
var[2] = 1 
var[3] = guildxxid
var[4] = 0 -- 1 to 3 ( ge gc gl )
var.netid = GetLocal().netid
SendVarlist(var)
  return true
end
  end

AddCallback("chnage_guild","OnPacket", guildxx)

function cahngenamexx(type, packet)
if packet:find("action|input\n|text|/name ") then
cahngenamexx1 = packet:gsub("action|input\n|text|/name ", "")
  cahnge_name = 0
  cahnge_name = cahngenamexx1

  OnConsoleMessage("`0[ `2Erza  `0] `2name changed to `2"..cahnge_name.."")
  var = {}
  var[0] = "OnNameChanged"
  var[1] = cahnge_name
  var.netid = GetLocal().netid
  SendVarlist(var)
  return true
end
  end
  
AddCallback("chnage_name","OnPacket", cahngenamexx)

function testmod2(type, packet)
if packet == ("action|input\n|text|/testmod") then
if casino_help_when_join == "1" then
ban_unacces_leave()
elseif casino_help_when_join == "2" then
unacces_leave()
elseif casino_help_when_join == "3" then
leave()
elseif casino_help_when_joinxd == "2" then
unacces_leave()
else 
OnConsoleMessage("`0[ `2Erza  `0] `2this command is turned off")
end
return true
end
end
AddCallback("testmod2","OnPacket", testmod2)

function casino_help_when_join(type, packet)
if packet:find("action|input\n|text|/safe ") then
casino_help_when_join = packet:gsub("action|input\n|text|/safe ", "")
if casino_help_when_join == "1" then
casino_help_when_joinx = "`2ban unacces leave"
OnConsoleMessage("`0[ `2Erza `0] `2Updated : `2"..casino_help_when_joinx)
function Moderator(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 5956 then
Moderatorvar = {}
Moderatorvar[0] = "OnAddNotification"
Moderatorvar[1] = "interface/atomic_button.rttex"
Moderatorvar[2] = "`5@Moderator `4Just joined the world."
Moderatorvar[3] = "audio/hub_open.wav"
Moderatorvar[4] = 0
Moderatorvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Moderator `4Just joined the world.")
SendVarlist(Moderatorvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- ban unacces leave
OnConsoleMessage("`0[ `2Erza `0] `2baning all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/ban " .. player.name:sub(3, -3))
end
OnConsoleMessage("`0[ `2Erza `0] `2unaccessing")
SendPacket(2, "action|input\n|text|/unaccess")
SendPacket(2, "action|dialog_return\ndialog_name|unaccess")
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..setsave_world.."\ninvitedWorld|0")
end
end
end
AddCallback("Moderator","OnVarlist", Moderator)

function Guardian(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 276 then
Guardianvar = {}
Guardianvar[0] = "OnAddNotification"
Guardianvar[1] = "interface/atomic_button.rttex"
Guardianvar[2] = "`5@Guardian `4Just joined the world."
Guardianvar[3] = "audio/hub_open.wav"
Guardianvar[4] = 0
Guardianvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Guardian `4Just joined the world.")
SendVarlist(Guardianvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- ban unacces leave
OnConsoleMessage("`0[ `2Erza `0] `2baning all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/ban " .. player.name:sub(3, -3))
end
OnConsoleMessage("`0[ `2Erza `0] `2unaccessing")
SendPacket(2, "action|input\n|text|/unaccess")
SendPacket(2, "action|dialog_return\ndialog_name|unaccess")
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..setsave_world.."\ninvitedWorld|0")
end
end
end
AddCallback("Guardian","OnVarlist", Guardian)
end
if casino_help_when_join == "2" then
casino_help_when_joinx = "`2unacces leave"
OnConsoleMessage("`0[ `2Erza `0] `2Updated : `2"..casino_help_when_joinx)

function Moderator(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 5956 then
Moderatorvar = {}
Moderatorvar[0] = "OnAddNotification"
Moderatorvar[1] = "interface/atomic_button.rttex"
Moderatorvar[2] = "`5@Moderator `4Just joined the world."
Moderatorvar[3] = "audio/hub_open.wav"
Moderatorvar[4] = 0
Moderatorvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Moderator `4Just joined the world.")
SendVarlist(Moderatorvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- unacces leave
OnConsoleMessage("`0[ `2Erza `0] `2unaccessing")
SendPacket(2, "action|input\n|text|/unaccess")
SendPacket(2, "action|dialog_return\ndialog_name|unaccess")
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..setsave_world.."\ninvitedWorld|0")
end
end
end
AddCallback("Moderator","OnVarlist", Moderator)

function Guardian(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 276 then
Guardianvar = {}
Guardianvar[0] = "OnAddNotification"
Guardianvar[1] = "interface/atomic_button.rttex"
Guardianvar[2] = "`5@Guardian `4Just joined the world."
Guardianvar[3] = "audio/hub_open.wav"
Guardianvar[4] = 0
Guardianvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Guardian `4Just joined the world.")
SendVarlist(Guardianvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- unacces leave
OnConsoleMessage("`0[ `2Erza `0] `2unaccessing")
SendPacket(2, "action|input\n|text|/unaccess")
SendPacket(2, "action|dialog_return\ndialog_name|unaccess")
SendPacket(3, "action|quit_to_exit")
SendPacket(3, "action|join_request\nname|"..setsave_world.."\ninvitedWorld|0")
end
end
end
AddCallback("Guardian","OnVarlist", Guardian)

end
if casino_help_when_join == "3" then
casino_help_when_joinx = "`2leave"
OnConsoleMessage("`0[ `2Erza `0] `2Updated : `2"..casino_help_when_joinx)

function Guardian(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 276 then
Guardianvar = {}
Guardianvar[0] = "OnAddNotification"
Guardianvar[1] = "interface/atomic_button.rttex"
Guardianvar[2] = "`5@Guardian `4Just joined the world."
Guardianvar[3] = "audio/hub_open.wav"
Guardianvar[4] = 0
Guardianvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Guardian `4Just joined the world.")
SendVarlist(Guardianvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- leave
SendPacket(3, "action|quit_to_exit")
end
end
end
AddCallback("Guardian","OnVarlist", Guardian)

function Moderator(v)
if v[0] == "OnGuildDataChanged" then
if v[3] == 5956 then
Moderatorvar = {}
Moderatorvar[0] = "OnAddNotification"
Moderatorvar[1] = "interface/atomic_button.rttex"
Moderatorvar[2] = "`5@Moderator `4Just joined the world."
Moderatorvar[3] = "audio/hub_open.wav"
Moderatorvar[4] = 0
Moderatorvar.netid = -1
OnConsoleMessage("`0[ `2Erza `0] `5@Moderator `4Just joined the world.")
SendVarlist(Moderatorvar)
var2 = {}
var2[0] = "OnTextOverlay"
var2[1] = "`2Collecting"
var2.netid = -1
SendVarlist(var2)
function collectItems(range, ispos)
if not ispos then
range = (range or 10)*32
end

pkt = {}
pkt.type = 11
for _, obj in pairs(GetObjects()) do
posx = math.abs(GetLocal().pos_x-obj.pos_x)
posy = math.abs(GetLocal().pos_y-obj.pos_y)

if posx<range and posy<range then
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end
end
end
collectItems()
-- leave
SendPacket(3, "action|quit_to_exit")
end
end
end
AddCallback("Moderator","OnVarlist", Moderator)
end
if casino_help_when_join == "off" then
OnConsoleMessage("`0[ `2Erza `0] `2Safe mode is turned off ")
RemoveCallback("Moderator")
RemoveCallback("Guardian")
end
return true
end
end
AddCallback("casino_help_when_join","OnPacket", casino_help_when_join)

function save(type, packet)
if packet == ("action|input\n|text|/save") then
OnConsoleMessage("`0[ `2Erza  `0] `2Warping to `2Save World")
SendPacket(3, "action|join_request\nname|"..setsave_world.."\ninvitedWorld|0")
return true
end
end

AddCallback("warp_save","OnPacket", save)

set_blink_delay = 50
blinking = false
function setblink()
while blinking do
SendPacket(2, "action|setSkin\ncolor|2527912447")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|3370516479")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|1685231359")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2527912447")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2190853119")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|1348237567")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2864971775")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|1348237567")
Sleep(set_blink_delay * 1)
--
SendPacket(2, "action|setSkin\ncolor|2190853119")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|1685231359")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2022356223")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|3033464831")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2864971775")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|2527912447")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|3370516479")
Sleep(set_blink_delay * 1)
SendPacket(2, "action|setSkin\ncolor|1348237567")
Sleep(set_blink_delay * 1)
end
end

function blink_main(type, packet)
if packet == ("action|input\n|text|/blink") then
if blinking then
OnConsoleMessage("`0[ `2Erza  `0] `2blink mode is `2off")
blinking = false
   else 
OnConsoleMessage("`0[ `2Erza  `0] `2blink mode is `2on")
blinking = true
   end
   RunThread(function()
   setblink()
   end)
return true
end
end

AddCallback("blink_main","OnPacket", blink_main)


function set_blink_delay1(type, packet)
if packet:find("action|input\n|text|/blinkd") then
set_blink_delay = packet:gsub("action|input\n|text|/blinkd", "")
set_blink_delay = tonumber(set_blink_delay)
OnConsoleMessage("`0[ `2Erza  `0] `2blink delay set to : `2"..set_blink_delay.." `2MS ")
  return true
end
end

AddCallback("set_blink_delay1","OnPacket", set_blink_delay1)


NO_PICKUP = false

function extactoreh1(type, packet)
if packet:find("action|input\n|text|/pickup ") then
pick_up_id = packet:gsub("action|input\n|text|/pickup ", "")
pick_up_id = tonumber(pick_up_id)
OnConsoleMessage("`0[ `2Erza  `0] `2only picking `2"..pick_up_id)
ID_TBL={
[pick_up_id]=1,
}

NO_PICKUP = true

function pickup12(varlist)
if varlist.type==11 then
for _,v in pairs(GetObjects()) do
if NO_PICKUP then
if v.oid==varlist.int_data and not ID_TBL[math.floor(v.id)] then
return true
end
else
if v.oid==varlist.int_data and ID_TBL[math.floor(v.id)] then
return true
end
end
end
end
end
AddCallback("pickup12", "OnRawPacket", pickup12)
  return true
end
end

AddCallback("extactoreh1","OnPacket", extactoreh1)

nopickup = false

function no_pickup(type, packet)
if packet == ("action|input\n|text|/nopickup") then
if nopickup then
nopickup = false
OnConsoleMessage("`0[ `2Erza  `0] `2No pick-up turned `2off")
RemoveCallback("pickup12")
return true
else
OnConsoleMessage("`0[ `2Erza  `0] `2No pick-up turned `2on")

ID_TBL={
[0]=1,
}

nopickup = true

function pickup12(varlist)
if varlist.type==11 then
for _,v in pairs(GetObjects()) do
if nopickup then
if v.oid==varlist.int_data and not ID_TBL[math.floor(v.id)] then
return true
end
else
if v.oid==varlist.int_data and ID_TBL[math.floor(v.id)] then
return true
end
end
end
end
end
AddCallback("pickup12", "OnRawPacket", pickup12)

return true
end
end
end
AddCallback("no_pickup","OnPacket", no_pickup)

function command_half(type, packet)
packet = string.lower(packet)
if packet == ("action|input\n|text|/b2") then
dl_count = math.floor(GetItemCount(1796))
wl_count = math.floor(GetItemCount(242))

final_wl_fortax = wl_count
final_dl_fortax = dl_count * 100
total_locks = (final_wl_fortax + final_dl_fortax) / 2
drop(total_locks)
  return true
end
end

AddCallback("command_half","OnPacket", command_half)

function drop(amount)
function Dropping(varlist, packet)
if varlist[0]:find("OnDialogRequest") then
return true
end
end

AddCallback("Dropping", "OnVarlist", Dropping)
  
dl_count = math.floor(GetItemCount(1796))
wl_count = math.floor(GetItemCount(242))
  
dl_to_drop = amount // 100
wl_to_drop = amount % 100
  
if dl_count < dl_to_drop then
OnConsoleMessage("`0[ `2Erza `0] `2Not Enough Diamond Locks To Drop.")
OnTextOverlay("`2You Don't Have `3"..dl_to_drop.." `2Diamond Locks To Drop")
RemoveCallback("Dropping")
return false
elseif wl_count < wl_to_drop then
if dl_count >= 1 then
packet = {}
packet.type = 10 
packet.int_data = 1796
SendPacketRaw(packet)
if dl_to_drop > 0 then
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(250)
end
if wl_to_drop > 0 then
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(250)
end
OnConsoleMessage("`0[ `2Erza `0] `2Dropping `3" ..wl_to_drop.. " `2World Locks `1& `3"..dl_to_drop.. " `2Diamond Locks.")
OnTextOverlay("`2Dropping `3" ..wl_to_drop.. " `2Wls `1& `3"..dl_to_drop.. " `2Dls")
else
OnTextOverlay("`2Not Enough World Locks To Drop.")
RemoveCallback("Dropping")
end
return true
else
if dl_to_drop > 0 then
SendPacket(2, "action|drop\n|itemID|1796")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|1796|\ncount|"..dl_to_drop)
Sleep(250)
end
if wl_to_drop > 0 then
SendPacket(2, "action|drop\n|itemID|242")
SendPacket(2, "action|dialog_return\ndialog_name|drop_item\nitemID|242|\ncount|"..wl_to_drop)
Sleep(250)
end
OnConsoleMessage("`0[ `2Erza `0] `2Dropping `3" ..wl_to_drop.. " `2World Locks `1& `3"..dl_to_drop.. " `2Diamond Locks.")
OnTextOverlay("`2Dropping `3" ..wl_to_drop.. " `2Wls `1& `3"..dl_to_drop.. " `2dls")
Sleep(1000)
RemoveCallback("Dropping")
return true
end
  end

function eatArroz(type, packet)
if packet == ("action|input\n|text|/arroz") then
if autoArroz then
OnConsoleMessage("`0[ `2Erza  `0] `2auto eat arroz is `3off")
autoArroz = false
   else
OnConsoleMessage("`0[ `2Erza  `0] `2auto eat arroz is `3on")
autoArroz = true
end
   RunThread(function()
   Eam()
   end)
return true
end
end
AddCallback("eatArroz","OnPacket", eatArroz)

function Eam()
while autoArroz do
local pkt = {}
pkt.type = 3
pkt.int_data = 4604
pkt.pos_x = GetLocal().pos_x
pkt.pos_y = GetLocal().pos_y 
pkt.int_x = math.floor(GetLocal().pos_x // 32)
pkt.int_y = math.floor(GetLocal().pos_y // 32)
SendPacketRaw(pkt)
Sleep(30*60000)
end
end

function host(type, packet)
if packet == ("action|input\n|text|/host") then
OnConsoleMessage("`0[ `2Erza  `0] `2Warping to `2Host World")
SendPacket(3, "action|join_request\nname|"..sethost_world1.."\ninvitedWorld|0")
Sleep(200)
OnTextOverlay("`2 Reminder Turn On Your Auto Unacces or /safe 2")
return true
end
end

AddCallback("warp_host","OnPacket", host)

collect_pos = {{x_pos1, y_pos1}, {x_pos2, y_pos2}, {x_pos3, y_pos3}, {x_pos4, y_pos4}}

function collect_wls(type, packet)
if packet == ("action|input\n|text|/tp") or packet == ("action|input\n|text|/.") then
RunThread(function()
autocollect_thread()
   Sleep(100)
   for _,item in pairs(GetInventory()) do
if item.id == 242 then
if item.count >= 100 then
local packet = {}
packet.type = 10
packet.int_data = 242
SendPacketRaw(packet)
end
end
end
end)
return true
end
end

AddCallback("collect_pos","OnPacket", collect_wls)

function autocollect_thread()
OnConsoleMessage("`0[ `2Erza  `0] `2Collecting")
wl_before = math.floor(GetItemCount(242))
dl_before = math.floor(GetItemCount(1796))
Possessions = {{x_pos1, y_pos1}, {x_pos2, y_pos2}, {x_pos3, y_pos3}, {x_pos4, y_pos4}}
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos1 * 32 + 16, y_pos1 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos2 * 32 + 16, y_pos2 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos3 * 32 + 16, y_pos3 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
var = {}
var[0] = "OnParticleEffect"
var[1] = 88
var[2] = { x_pos4 * 32 + 16, y_pos4 * 32 + 16 }
var[3] = 0
var[4] = 0
var.netid = -1
SendVarlist(var)
SendVarlist(var)
function collect(obj)   
pkt = {}
pkt.type = 11
pkt.int_data = obj.oid
pkt.pos_x = obj.pos_x
pkt.pos_y = obj.pos_y
SendPacketRaw(pkt)
end

for _, v in pairs(GetObjects()) do
for __, customtile in pairs(Possessions) do
if (v.pos_x)//32 == customtile[1] and (v.pos_y )//32 == customtile[2] then
collect(v)
break 
end
end
end

for _, v in pairs(GetObjects()) do
for __, customtile in pairs(Possessions) do
if (v.pos_x)//32 - 1 == customtile[1] and (v.pos_y )//32 == customtile[2] then
collect(v)
break 
end
end
end 

for _, v in pairs(GetObjects()) do
for __, customtile in pairs(Possessions) do
if (v.pos_x)//32 + 1 == customtile[1] and (v.pos_y )//32 == customtile[2] then
collect(v)
break 
end
end
end

Sleep(1300)

wl_after = math.floor(GetItemCount(242))
dl_after = math.floor(GetItemCount(1796))

final_wl = wl_after - wl_before
final_dl = dl_after - dl_before

tax_dl = final_dl * 100
tax_wl = final_wl

tax_1_1 = tax_dl + tax_wl
tax_1 = tonumber(tax_1_1)
real_tax = settax_1 * ( tax_1 / 100 )
real_tax = math.floor(real_tax)
tax_1_1 = math.floor(tax_1_1)
drop_tax = tax_1_1 - real_tax
OnConsoleMessage("`0[ `2Erza  `0] `2amount to drop : `2"..tax_1_1 - real_tax)
OnConsoleMessage("`0[ `2Erza  `0] `2amount to keep : `2"..real_tax)
OnTextOverlay("`2you collected : `2 "..final_wl.." `2wls "..final_dl.." `2dls Drop: `2"..tax_1_1 - real_tax)
end

function pall(type, packet)
if packet == ("action|input\n|text|/pall") then
RunThread(function()
pallthread()
end)
return true
end
end

AddCallback("pall","OnPacket", pall)

function pallthread()
OnConsoleMessage("`0[ `2Erza  `0] `2pulling all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/pull " .. player.name:sub(3, -3))
end
end

function ball(type, packet)
if packet == ("action|input\n|text|/ball") then
RunThread(function()
ballthread()
end)
return true
end
end

AddCallback("ball","OnPacket", ball)

function ballthread()
OnConsoleMessage("`0[ `2Erza  `0] `2baning all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/ban " .. player.name:sub(3, -3))
end
end

function kall(type, packet)
if packet == ("action|input\n|text|/kall") then
RunThread(function()
kallthread()
end)
return true
end
end

AddCallback("kall","OnPacket", kall)

function kallthread()
OnConsoleMessage("`0[ `2Erza  `0] `2kicking all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/kick " .. player.name:sub(3, -3))
end
end

function tall(type, packet)
if packet == ("action|input\n|text|/tall") then
RunThread(function()
tallthread()
end)
return true
end
end

AddCallback("tall","OnPacket", tall)

function tallthread()
OnConsoleMessage("`0[ `2Erza  `0] `2trading all players")
for _,player in pairs(GetPlayers()) do
SendPacket(2,  "action|input\n|text|/trade " .. player.name:sub(3, -3))
end
end

function ping(type, packet)
if packet == ("action|input\n|text|/ping") then
if GetPing() > 150 then
color = "`2"
end
if GetPing() > 300 then
color = "`4"
end
if GetPing() < 150 then
color = "`2"
end
OnConsoleMessage("`0[ `2Erza  `0] `2Your ping is : "..color..""..math.floor((GetPing())))
return true
end
end

AddCallback("ping","OnPacket", ping)

function hidenname(type, packet)
if packet == ("action|input\n|text|/hide") then
OnConsoleMessage("`0[ `2Erza  `0] `2hiding all players names")
for _,player in pairs(GetPlayers()) do
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnNameChanged"
var[1] = "`b[ `4HIDDEN `b]"
var.netid = player.netid
SendVarlist(var)
end
return true
end
end

AddCallback("hide_name","OnPacket", hidenname)

titlexd = "none"

function title1(type, packet)
if packet == ("action|input\n|text|/g4g") then
titlexd = "g4g"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DONOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|donor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_1","OnPacket", title1)

function title2(type, packet)
if packet == ("action|input\n|text|/master") then
titlexd = "master"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MASTED `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|master"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_2","OnPacket", title2)

function title3(type, packet)
if packet == ("action|input\n|text|/doctor") then
titlexd = "doctor"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DOCTOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "Dr."..GetLocal().name
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_3","OnPacket", title3)

function title4(type, packet)
if packet == ("action|input\n|text|/maxlevel") then
titlexd = "maxlevel"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MAX LEVEL `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|maxLevel"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_4","OnPacket", title4)

function title5(type, packet)
if packet == ("action|input\n|text|/oflegend") or packet == ("action|input\n|text|/legend") then
titlexd = "legend"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2OF LEGEND `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
GetLocal().name = GetLocal().name.." of Legend``"
return true
end
end

AddCallback("title_5","OnPacket", title5)

function title6(type, packet)
if packet == ("action|input\n|text|/modr") then
titlexd = "mods"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MODERATOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "`5@" ..GetLocal().name
var = {}
var[0] = "OnGuildDataChanged"
var[1] = "ph|mods"
var[2] = 0
var[3] = 5956
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end
AddCallback("title_6","OnPacket", title6)

function title7(type, packet)
if packet == ("action|input\n|text|/title reset") then
OnConsoleMessage("`0[ `2Erza  `0] `2 removing all titles")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_reset","OnPacket", title7)

function title_ui_commands(type, packet)
if packet == ("action|input\n|text|/titles") then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`!Choose title|left|6276|
add_spacer|small|
add_button|g4g_title|`2G4G Title|noflags|0|0|
add_button|master_title|`2Master Title|noflags|0|0|
add_button|doctor_title|`2Doctor Title|noflags|0|0|
add_button|maxlevel_title|`2Max Level Title|noflags|0|0|
add_button|legend_title|`2Legendary Title|noflags|0|0|
add_button|mods_title|`2Moderator Title|noflags|0|0|
add_spacer|small|
add_button|reset_title|`@Reset Title|noflags|0|0|
add_quick_exit|
end_dialog|World_commands|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("title_ui_commands","OnPacket", title_ui_commands)

function title_mode(type, packet)
if packet:find("buttonClicked|legend_title") then
OnConsoleMessage("`0[ `2Erza  `0] `2pulling all players")
titlexd = "legend"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2OF LEGEND `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
GetLocal().name = GetLocal().name.." of Legend``"
return true
elseif packet:find("buttonClicked|g4g_title") then
titlexd = "g4g"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DONOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|donor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|master_title") then
titlexd = "master"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MASTED `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|master"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|doctor_title") then
titlexd = "doctor"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2DOCTOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "Dr."..GetLocal().name
var = {}
var[0] = "OnCountryState"
var[1] = "jo|doctor"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|maxlevel_title") then
titlexd = "maxlevel"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MAX LEVEL `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|maxLevel"
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet == ("buttonClicked|mods_title") then
titlexd = "mods"
OnConsoleMessage("`0[ `2Erza  `0] `2title effect `2MODERATOR `2enabled !")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
GetLocal().name = "`5@" ..GetLocal().name
var = {}
var[0] = "OnGuildDataChanged"
var[1] = "ph|mods"
var[2] = 0
var[3] = 5956
var.netid = GetLocal().netid
SendVarlist(var)
return true
elseif packet:find("buttonClicked|reset_title") then
OnConsoleMessage("`0[ `2Erza  `0] `2 removing all titles")
GetLocal().name = GetLocal().name:removeColors()
GetLocal().name = GetLocal().name:gsub(" of Legend", "")
GetLocal().name = GetLocal().name:gsub("Dr.", "")
var = {}
var[0] = "OnCountryState"
var[1] = "jo|"
var.netid = GetLocal().netid
SendVarlist(var)
return true
end
end

AddCallback("title_mode", "OnPacket", title_mode)

spamming = false
function setup_spam()
while spamming do
if toggleColored then
SendPacket(2, [[
action|input
|text|`]] .. math.random(1, 9) .. autospamtext)
Sleep(autospamdelay * 1000)
  else
  SendPacket(2, [[
  action|input
  |text|]] .. autospamtext)
  Sleep(autospamdelay * 1000)
  end
  end
end


function dial_spam(type, packet)
if packet == ("action|input\n|text|/spam") then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`3Spam Page|left|9752|
add_spacer|small|
add_checkbox|sptoggle|`2Enabled `2Colored `2Text|0|
add_spacer|small|
add_text_input|sptext|Text:||18|
add_spacer|small|
add_textbox|`2Spamming for a long time can cause `4perma ban|
add_spacer|small|
add_text_input|spdelay|Interval (s):||2|
add_textbox|`2Minimum delay is 3 second|
add_spacer|small|
add_quick_exit||
end_dialog|spexit|Cancel|Apply|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end
AddCallback("dial_spam","OnPacket",dial_spam)



function set_spam(type, packet)
if (packet:find("sptoggle|1")) then
toggleColored = true
end
if (packet:find("sptoggle|0")) then
toggleColored = false
end
if (packet:find("sptext|")) then
autospamtext = string.sub(packet, packet:find("sptext|") + 7, packet:find("spdelay|") - 2)
OnConsoleMessage("`5Set text to " .. autospamtext)
end
if (packet:find("spdelay|")) then
autospamdelay = string.sub(string.sub(packet, 0, string.len(packet) - 1), packet:find("spdelay|") + 8, packet:find("spdelay|") + 13)
OnConsoleMessage("`5Set delay to " .. autospamdelay)
end
end
AddCallback("set_spam","OnPacket",set_spam)





function starting_spam(type, packet)
if packet == ("action|input\n|text|//") then
if spamming then
OnConsoleMessage("Spamming `3Disable")
spamming = false
else
OnConsoleMessage("Spamming `4Enable")
spamming = true
end
RunThread(function()
setup_spam()
end)
return true
end
end
AddCallback("starting_spam","OnPacket",starting_spam)

function joinLastWorld(world)
	SendPacket(3, "action|join_request\nname|" .. world .. "\ninvitedWorld|0")
end


function gs_xd(type, packet)
if packet == ("action|input\n|text|/gs") or packet == ("action|input\n|text|/growscan") then
var = {}
var[0] = "OnDialogRequest"
var[1] = [[
add_label_with_icon|big|`wWorld Stats``|left|6016|
add_spacer|small|
add_textbox|`wThis amazing block can show the stats for the whole world!|left
add_spacer|small|
add_textbox|`wWhich stats would you like to view?|left
add_button|placed_gs|World Blocks|noflags|0|0|
add_button|float_gs|Floating Items|noflags|0|0|
add_quick_exit|
end_dialog|grow_scaxn|`4Cancel|`2Okay|
]]
var.netid = -1
SendVarlist(var)
return true
end
end

AddCallback("gs_xd","OnPacket", gs_xd)

function growscan_mode(type, packet)
if packet:find("buttonClicked|placed_gs") then
OnConsoleMessage("`0[ `2Erza `0] `2Scaning placed blocks")
function round(n)
return n % 1 >= 0.5 and math.ceil(n) or math.floor(n)
end

store1 = {}

for k,v in pairs(GetTiles()) do
id = v.fg
if store1[v.fg] == nil then
store1[v.fg] = {id = v.fg, qty = 1}
else
store1[v.fg].qty = store1[v.fg].qty + 1
end
if store1[v.bg] == nil then
store1[v.bg] = {id = v.bg, qty = 1}
else
store1[v.bg].qty = store1[v.bg].qty + 1
end
end

placedshit = "add_spacer|small|"
for _,tile in pairs(store1) do
count = round(tile.qty)
idplaced = math.floor(tile.id)
placedshit =
placedshit ..
"\nadd_label_with_icon|small|`0"  ..GetIteminfo(idplaced).name.." `0: "..count.."``|left|" .. tostring(tile.id)
end
 
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[
set_default_color|`o
add_label_with_icon|big|`0Placed Items``|left|6016
]]..placedshit..[[
add_quick_exit|
end_dialog|grow_scan|`2Okay|`4Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true


elseif packet:find("buttonClicked|float_gs") then
OnConsoleMessage("`0[ `2Erza `0] `2Scaning dropped items")
function round(n)
return n % 1 >= 0.5 and math.ceil(n) or math.floor(n)
end

store1 = {}

for k, v in pairs(GetObjects()) do
id = v.id
if store1[v.id] == nil then
store1[v.id] = {id = v.id, qty = v.count}
else
store1[v.id].qty = store1[v.id].qty + v.count
end
end

droppedshit = "add_spacer|small|"
for _, object in pairs(store1) do
count = round(object.qty)
xx = math.floor(object.id)
droppedshit =
droppedshit ..
"\nadd_label_with_icon|small|`0"  ..GetIteminfo(xx).name.." `0: "..count.."``|left|" .. tostring(object.id)
end

varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[
set_default_color|`o
add_label_with_icon|big|`0Floating Items `0``|left|6016
]]..droppedshit..[[
add_quick_exit|
end_dialog|grow_scan|`2Okay|`4Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("growscan_mode", "OnPacket", growscan_mode)


local x = 1
local y = 1
local oid = 1
local count = 1
local iid = 1
for _,object in pairs(GetObjects()) do
object.id = math.floor(object.id)
if object.id == 242 then
x = object.pos_x
y = object.pos_y
iid = object.id
count = object.count
oid = object.oid
oid = math.floor(oid)
x = x/32
y = y/32
x = math.floor(x)
y = math.floor(y)
iid = math.floor(iid)
count = math.floor(count)
OnConsoleMessage("`2"..x/32)
OnConsoleMessage("`2"..y/32)
OnConsoleMessage(object.id)
OnConsoleMessage("`2"..x)
OnConsoleMessage("`2"..y)
OnConsoleMessage("`4"..oid)
end
end


function detect_var(v)
if v[1]:find("left|6140|") then
OnConsoleMessage("test")
end
end




function cmd_hook_ep(type, packet)
if packet == ("action|input\n|text|/snap") then
pkt2 = "left\nadd_spacer|small|\nadd_textbox|Press on the icon to extract the item into your inventory.|left|\nadd_spacer|small|\nadd_textbox|`wItem List:|left|\nadd_label_with_icon_button_list|small|`w%s : %s|left|extractOnceObj_|itemID_itemAmount_worldObj|"..iid..","..count..","..oid.."\nadd_spacer|small|\nembed_data|tilex|"..x.."\nembed_data|tiley|"..y.."\nembed_data|startIndex|0\nembed_data|extractorID|6140\nend_dialog|extractor|Close||"
pkt = "add_label_with_icon|big|`wExtract-O-Snap``|left|6140|\nadd_spacer|small|\nadd_textbox|GrowTech: use the Extract-O-Snap to pick out the items from the floating items in your world! - Thanks, Technician Dave.|"..pkt2
local var2 = {}
var2[0] = "OnDialogRequest"
var2[1] = pkt
var2.netid = -1
SendVarlist(var2)
return true
end
end

AddCallback("detect_var","OnVarlist", detect_var)
AddCallback("cmd_hook_ep","OnPacket", cmd_hook_ep)


function gs_back(type, packet)
	if packet:find("dialog_name|grow_scan") then
var = {}
var[0] = "OnDialogRequest"
var[1] = [[
add_label_with_icon|big|`wWorld Stats``|left|6016|
add_spacer|small|
add_textbox|`wThis amazing block can show the stats for the whole world!|left
add_spacer|small|
add_textbox|`wWhich stats would you like to view?|left
add_button|placed_gs|World Blocks|noflags|0|0|
add_button|float_gs|Floating Items|noflags|0|0|
add_quick_exit|
end_dialog|grow_scaxn|`4Cancel|`2Okay|
]]
var.netid = -1
SendVarlist(var)
		return true
	end
end

AddCallback("gs_back", "OnPacket", gs_back)

function gs1(type, packet)
if packet == ("action|input\n|text|/gs 1") then
OnConsoleMessage("`0[ `2Erza `0] `2Scaning placed blocks")
function round(n)
return n % 1 >= 0.5 and math.ceil(n) or math.floor(n)
end

store1 = {}

for k,v in pairs(GetTiles()) do
id = v.fg
if store1[v.fg] == nil then
store1[v.fg] = {id = v.fg, qty = 1}
else
store1[v.fg].qty = store1[v.fg].qty + 1
end
if store1[v.bg] == nil then
store1[v.bg] = {id = v.bg, qty = 1}
else
store1[v.bg].qty = store1[v.bg].qty + 1
end
end

placedshit = "add_spacer|small|"
for _,tile in pairs(store1) do
count = round(tile.qty)
idplaced = math.floor(tile.id)
placedshit =
placedshit ..
"\nadd_label_with_icon|small|`0"  ..GetIteminfo(idplaced).name.." `0: "..count.."``|left|" .. tostring(tile.id)
end

varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = "set_default_color|`o\nadd_label_with_icon|big|`0Placed Items `0``|left|6016\n"..placedshit.."\nadd_quick_exit"
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("gs_1","OnPacket", gs1)

function gs2(type, packet)
if packet == ("action|input\n|text|/gs 2") or packet == ("action|input\n|text|/fitems")then
OnConsoleMessage("`0[ `2Erza `0] `2Scaning dropped items")
function round(n)
return n % 1 >= 0.5 and math.ceil(n) or math.floor(n)
end

store1 = {}

for k, v in pairs(GetObjects()) do
id = v.id
if store1[v.id] == nil then
store1[v.id] = {id = v.id, qty = v.count}
else
store1[v.id].qty = store1[v.id].qty + v.count
end
end

droppedshit = "add_spacer|small|"
for _, object in pairs(store1) do
count = round(object.qty)
xx = math.floor(object.id)
droppedshit =
droppedshit ..
"\nadd_label_with_icon|small|`0"  ..GetIteminfo(xx).name.." `0: "..count.."``|left|" .. tostring(object.id)
end

varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = "set_default_color|`o\nadd_label_with_icon|big|`0Floating items `0``|left|6016\n"..droppedshit.."\nadd_quick_exit"
varlist.netid = -1
SendVarlist(varlist)
return true
end
end

AddCallback("gs_2","OnPacket", gs2)

function config_host(type, packet)
if packet == ("action|input\n|text|/config") then
varconfig = {}
varconfig[0] = "OnDialogRequest"
varconfig[1] = [[set_default_color|`o
add_label_with_icon|`2Erza AutoHost Configuration|left|758|
add_spacer|small|
add_label_with_icon|big|`2Current World : ]].. GetLocal().world ..[[|left|3802|
add_label_with_icon|big|`2Host World : ]].. sethost_world1 ..[[|left|3802|
add_label_with_icon|big|`2Save World : ]].. setsave_world ..[[|left|3802|
add_spacer|small|
add_textbox|`3Pos 1 - Pos 4 Player Display Box Position|
add_button|posit1|`2Pos 1: `3[]].. x_pos1 .. [[, ]].. y_pos1..[[|
add_button|posit2|`2Pos 2: `3[]].. x_pos2 .. [[, ]].. y_pos2..[[|
add_button|posit3|`2Pos 3: `3[]].. x_pos3 .. [[, ]].. y_pos3..[[|
add_button|posit4|`2Pos 4: `3[]].. x_pos4 .. [[, ]].. y_pos4..[[|
add_spacer|small|
add_textbox|`3Hoster Back Position|
add_button|posit1|`2Hoster Pos: `3[]].. x_posback .. [[, ]].. y_posback..[[|
add_spacer|small|
add_quick_exit||
end_dialog|configexit|Cancel|Okay|
]]
varconfig.netid = -1
SendVarlist(varconfig)
return true
end
end
AddCallback("config_host","OnPacket",config_host)


function fc(type, packet)
if packet == ("action|input\n|text|/fc") then
OnConsoleMessage("`0[ `2Erza  `0] `2Closing proxy.")
RemoveCallbacks()
return true
end
end

AddCallback("fc","OnPacket", fc)

-- defult settibgs

function string.removeColors(varlist)
return varlist:gsub("`.", "")
end

function qq_function(num)
return num % 10
end

function reme_function(num)
local sum = 0
while num > 0 do
  sum = sum + (num % 10)
  num = math.floor(num / 10)
end
return sum
end


function all_spin(type, packet)
if packet == ("action|input\n|text|/spin all") then
OnConsoleMessage("`0[ `2Erza  `0] `2Spin mode set to `2QQ & REME")
function Spin_checker(varlist)
  if varlist[0] == "OnTalkBubble" and varlist[2]:find("spun the wheel and got") then
local x = varlist[2]:removeColors()
local x2 = x:match("spun the wheel and got (%d+)")
if varlist[1] == -1 then -- local player
local var = {}
var[0] = "OnNameChanged"
var[1] = GetLocal().name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
var.netid = GetLocal().netid
SendVarlist(var)
else -- other players
  for _,player in pairs(GetPlayers()) do
if varlist[1] == player.netid then
  local var = {}
  var[0] = "OnNameChanged"
  var[1] = player.name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
  var.netid = player.netid
  SendVarlist(var)
  if varlist[0] == "OnTalkBubble" and varlist[3] ~= -1 and varlist[2]:find("spun the wheel and got") then
text = ""
if varlist[2]:find("CP:") then
  start, final = string.find(varlist[2], "=")
  text = "`0[ `4FAKE `0] " .. string.sub(varlist[2], final + 1)
else
  x = varlist[2]:removeColors()
  x2 = x:match("spun the wheel and got (%d+)")
  x2 = tonumber(x2)
  qq_mode = qq_function(x2)
  reme_mode2 = reme_function(x2)
  reme_mode = qq_function(reme_mode2)
  var = {}
  var[0] = "OnTalkBubble"
  var[1] = varlist[1]
  var[2] = "`0[ `2REAL  `0] `2CSN : `2"..x2.." `0/ `2QEME : `2"..qq_mode.." `0/ `1R`5E`3M`@E `0: `2"..reme_mode
  var[3] = -1
  var.netid = -1
  SendVarlist(var)
end
SendVarlist({
  [0] = "OnTalkBubble",
  [1] = varlist[1],
  [2] = text,
  [3] = -1,
  netid = -1,
})
return true
  end
end
  end
end
  end
end
AddCallback("spin name", "OnVarlist", Spin_checker)
return true
end
end

AddCallback("all_spin","OnPacket", all_spin)

function qq_spin(type, packet)
if packet == ("action|input\n|text|/qq") then
OnConsoleMessage("`0[ `2Erza  `0] `2Spin mode set to `2QQ")
function Spin_checker(varlist)
  if varlist[0] == "OnTalkBubble" and varlist[2]:find("spun the wheel and got") then
local x = varlist[2]:removeColors()
local x2 = x:match("spun the wheel and got (%d+)")
if varlist[1] == -1 then -- local player
local var = {}
var[0] = "OnNameChanged"
var[1] = GetLocal().name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
var.netid = GetLocal().netid
SendVarlist(var)
else -- other players
  for _,player in pairs(GetPlayers()) do
if varlist[1] == player.netid then
  local var = {}
  var[0] = "OnNameChanged"
  var[1] = player.name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
  var.netid = player.netid
  SendVarlist(var)
  if varlist[0] == "OnTalkBubble" and varlist[3] ~= -1 and varlist[2]:find("spun the wheel and got") then
text = ""
if varlist[2]:find("CP:") then
  start, final = string.find(varlist[2], "=")
  text = "`0[ `4FAKE `0] " .. string.sub(varlist[2], final + 1)
else
  x = varlist[2]:removeColors()
  x2 = x:match("spun the wheel and got (%d+)")
  x2 = tonumber(x2)
  qq_mode = qq_function(x2)
  reme_mode2 = reme_function(x2)
  reme_mode = qq_function(reme_mode2)
  var = {}
  var[0] = "OnTalkBubble"
  var[1] = varlist[1]
  var[2] = "`0[ `2REAL `0]"..varlist[2].." `1Q`3Q `0: `2"..qq_mode
  var[3] = -1
  var.netid = -1
  SendVarlist(var)
end
SendVarlist({
  [0] = "OnTalkBubble",
  [1] = varlist[1],
  [2] = text,
  [3] = -1,
  netid = -1,
})
return true
  end
end
  end
end
  end
end
AddCallback("spin name", "OnVarlist", Spin_checker)
return true
end
end

AddCallback("qq_spin","OnPacket", qq_spin)

function reme_spin(type, packet)
if packet == ("action|input\n|text|/reme") then
OnConsoleMessage("`0[ `2Erza  `0] `2Spin mode set to `2REME")
function Spin_checker(varlist)
  if varlist[0] == "OnTalkBubble" and varlist[2]:find("spun the wheel and got") then
local x = varlist[2]:removeColors()
local x2 = x:match("spun the wheel and got (%d+)")
if varlist[1] == -1 then -- local player
local var = {}
var[0] = "OnNameChanged"
var[1] = GetLocal().name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
var.netid = GetLocal().netid
SendVarlist(var)
else -- other players
  for _,player in pairs(GetPlayers()) do
if varlist[1] == player.netid then
  local var = {}
  var[0] = "OnNameChanged"
  var[1] = player.name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
  var.netid = player.netid
  SendVarlist(var)
  if varlist[0] == "OnTalkBubble" and varlist[3] ~= -1 and varlist[2]:find("spun the wheel and got") then
text = ""
if varlist[2]:find("CP:") then
  start, final = string.find(varlist[2], "=")
  text = "`0[ `4FAKE `0] " .. string.sub(varlist[2], final + 1)
else
  x = varlist[2]:removeColors()
  x2 = x:match("spun the wheel and got (%d+)")
  x2 = tonumber(x2)
  qq_mode = qq_function(x2)
  reme_mode2 = reme_function(x2)
  reme_mode = qq_function(reme_mode2)
  var = {}
  var[0] = "OnTalkBubble"
  var[1] = varlist[1]
  var[2] = "`0[ `2REAL `0]"..varlist[2].." `1R`5E`3M`@E `0: `2"..reme_mode
  var[3] = -1
  var.netid = -1
  SendVarlist(var)
end
SendVarlist({
  [0] = "OnTalkBubble",
  [1] = varlist[1],
  [2] = text,
  [3] = -1,
  netid = -1,
})
return true
  end
end
  end
end
  end
end
AddCallback("spin name", "OnVarlist", Spin_checker)
return true
end
end

AddCallback("reme_spin","OnPacket", reme_spin)

function Spin_checker(varlist)
  if varlist[0] == "OnTalkBubble" and varlist[2]:find("spun the wheel and got") then
local x = varlist[2]:removeColors()
local x2 = x:match("spun the wheel and got (%d+)")
if varlist[1] == -1 then -- local player
local var = {}
var[0] = "OnNameChanged"
var[1] = GetLocal().name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
var.netid = GetLocal().netid
SendVarlist(var)
else -- other players
  for _,player in pairs(GetPlayers()) do
if varlist[1] == player.netid then
  local var = {}
  var[0] = "OnNameChanged"
  var[1] = player.name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
  var.netid = player.netid
  SendVarlist(var)
  if varlist[0] == "OnTalkBubble" and varlist[3] ~= -1 and varlist[2]:find("spun the wheel and got") then
text = ""
if varlist[2]:find("CP:") then
  start, final = string.find(varlist[2], "=")
  text = "`0[ `4FAKE `0] " .. string.sub(varlist[2], final + 1)
else
  x = varlist[2]:removeColors()
  x2 = x:match("spun the wheel and got (%d+)")
  x2 = tonumber(x2)
  qq_mode = qq_function(x2)
  reme_mode2 = reme_function(x2)
  reme_mode = qq_function(reme_mode2)
  var = {}
  var[0] = "OnTalkBubble"
  var[1] = varlist[1]
  var[2] = "`0[ `2REAL `0] "..varlist[2]
  var[3] = -1
  var.netid = -1
  SendVarlist(var)
end
SendVarlist({
  [0] = "OnTalkBubble",
  [1] = varlist[1],
  [2] = text,
  [3] = -1,
  netid = -1,
})
return true
  end
end
  end
end
  end
end
AddCallback("spin name", "OnVarlist", Spin_checker)


function check_spin(type, packet)
if packet == ("action|input\n|text|/check") then
OnConsoleMessage("`0[ `2Erza  `0] `2Spin mode set to `2Checker")
function Spin_checker(varlist)
  if varlist[0] == "OnTalkBubble" and varlist[2]:find("spun the wheel and got") then
local x = varlist[2]:removeColors()
local x2 = x:match("spun the wheel and got (%d+)")
if varlist[1] == -1 then -- local player
local var = {}
var[0] = "OnNameChanged"
var[1] = GetLocal().name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
var.netid = GetLocal().netid
SendVarlist(var)
else -- other players
  for _,player in pairs(GetPlayers()) do
if varlist[1] == player.netid then
  local var = {}
  var[0] = "OnNameChanged"
  var[1] = player.name:gsub("`b%[`4%d?%d`b%]", "").."`b[`4"..x2.."`b]"
  var.netid = player.netid
  SendVarlist(var)
  if varlist[0] == "OnTalkBubble" and varlist[3] ~= -1 and varlist[2]:find("spun the wheel and got") then
text = ""
if varlist[2]:find("CP:") then
  start, final = string.find(varlist[2], "=")
  text = "`0[ `4FAKE `0] " .. string.sub(varlist[2], final + 1)
else
  x = varlist[2]:removeColors()
  x2 = x:match("spun the wheel and got (%d+)")
  x2 = tonumber(x2)
  qq_mode = qq_function(x2)
  reme_mode2 = reme_function(x2)
  reme_mode = qq_function(reme_mode2)
  var = {}
  var[0] = "OnTalkBubble"
  var[1] = varlist[1]
  var[2] = "`0[ `2REAL `0] "..varlist[2]
  var[3] = -1
  var.netid = -1
  SendVarlist(var)
end
SendVarlist({
  [0] = "OnTalkBubble",
  [1] = varlist[1],
  [2] = text,
  [3] = -1,
  netid = -1,
})
return true
  end
end
  end
end
  end
end
AddCallback("spin name", "OnVarlist", Spin_checker)
return true
end
end

AddCallback("check_spin","OnPacket", check_spin)


function check_login(varlist)
if varlist[0] == "OnConsoleMessage" and varlist[1]:find("Welcome back,") then
wl_balance = math.floor(GetItemCount(242))
dl_balance = math.floor(GetItemCount(1796))
bgl_balance = math.floor(GetItemCount(7188))
OnConsoleMessage("`0[ `2Erza  `0] `5Player Aunthentication `2Successful.")
OnConsoleMessage("`0[ `2Erza  `0] `2WL : `2"..wl_balance.." `1& `2DL : `2"..dl_balance.." `1& `2BGL : `2"..bgl_balance)
return true
end
end
AddCallback("check_login","OnVarlist", check_login)


function auto_acces_main(varlist)
if varlist[0] == "OnConsoleMessage" and  varlist[1]:find("wants to add you to a") then
function hide_acces1(varlist)
if varlist[0] == "OnDialogRequest" and  varlist[1]:find("end_dialog|acceptaccess|No|Yes|") then
return true
end
end
AddCallback("hide_acces1","OnVarlist", hide_acces1)
  
function hide_acces2(varlist)
  if varlist[0] == "OnDialogRequest" and varlist[1]:find("add_button|acceptlock|") then
  return true
  end
end
AddCallback("hide_acces2","OnVarlist", hide_acces2)
  
  netid = GetLocal().netid
  pkt = "action|wrench\n|netid|"..netid
  pkt2 = "action|dialog_return\ndialog_name|popup\nnetID|"..netid.."|\nbuttonClicked|acceptlock"
  pkt3 = "action|dialog_return\ndialog_name|acceptaccess"
  SendPacket(2,pkt)
  SendPacket(2,pkt2)
  SendPacket(2,pkt3)
  return true
  end
  end
AddCallback("auto_acces_main","OnVarlist", auto_acces_main)

function chnage_bgl(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("Dial a number to call somebody in Growtopia") then
SendPacket(2, "action|dialog_return\ndialog_name|phonecall\ntilex|"..varlist[1]:match("embed_data|tilex|(%d+)").."|\ntiley|"..varlist[1]:match("embed_data|tiley|(%d+)").."|\nnum|-34|\nbuttonClicked|chc0")
return true
end
end
AddCallback("chnage_bgl", "OnVarlist", chnage_bgl)

function chnage_bgl2(varlist)
if varlist[0] == "OnDialogRequest" and varlist[1]:find("end_dialog|phonecall|Hang Up||") then
return true
end
end
AddCallback("chnage_bgl2", "OnVarlist", chnage_bgl2)


function itemidlegend()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Legend `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wLegendary Katana - `2itemID: `e2592|left|2592|
add_label_with_icon|small|`wLegendary Wing - `2itemID: `e1784|left|1784|
add_label_with_icon|small|`wLegendBot-009 - `2itemID: `e1780|left|1780|
add_label_with_icon|small|`wLegendary Dragon Knight's Wings - `2itemID: `e7734|left|7734|
add_label_with_icon|small|`wLegendary Comet Hair - `2itemID: `e8306|left|8306|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function legends(type, packet)
if packet == ("action|input\n|text|/fleg") then
itemidlegend()
return true
end
end

AddCallback("Lgiditem_commandsx","OnPacket", legends)

--hand
function itemidhand()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Hands `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wLegendary Katana - `2itemID: `e2592|left|2592|
add_label_with_icon|small|`wPoseidon's Trident - `2itemID: `e2802|left|2802|
add_label_with_icon|small|`wPoseidon's Digger's Trident - `2itemID: `e7434|left|7434|
add_label_with_icon|small|`wNeptune's Trident - `2itemID: `e9758|left|9758|
add_label_with_icon|small|`wCursed Katana - `2itemID: `e9058|left|9058|
add_label_with_icon|small|`wGolden Heartstaff - `2itemID: `e7828|left|7828|
add_label_with_icon|small|`wHeatbow - `2itemID: `e4136|left|4136|
add_label_with_icon|small|`wSilverstar Bow - `2itemID: `e5456|left|5456|
add_label_with_icon|small|`wEldritch Crossbow - `2itemID: `e10052|left|10052|
add_label_with_icon|small|`wHeartbow - `2itemID: `e366|left|366|
add_label_with_icon|small|`wHeartsword - `2itemID: `e7830|left|7830|
add_label_with_icon|small|`wElvish Longbow - `2itemID: `e594|left|594|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wCarrot Sword - `2itemID: `e2908|left|2908|
add_label_with_icon|small|`wElectric Bow - `2itemID: `e2720|left|2720|
add_label_with_icon|small|`wWinter Frost Bow - `2itemID: `e5424|left|5424|
add_label_with_icon|small|`wEthereal Rainbow Dragon - `2itemID: `e7136|left|7136|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function hand(type, packet)
if packet == ("action|input\n|text|/fhand") then
itemidhand()
return true
end
end

AddCallback("trident_commandsx","OnPacket", hand)

--Wing
function itemidwings()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Wings `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wFairy Wings - `2itemID: `e156|left|156|
add_label_with_icon|small|`wAngel Wings - `2itemID: `e362|left|362|
add_label_with_icon|small|`wCrimson Eagle Wings - `2itemID: `e678|left|678|
add_label_with_icon|small|`wPlay Wings - `2itemID: `e736|left|736|
add_label_with_icon|small|`wRipper Wings - `2itemID: `e818|left|818|
add_label_with_icon|small|`wDevil Wings - `2itemID: `e1206|left|1206|
add_label_with_icon|small|`wGolden Angel Wings - `2itemID: `e1460|left|1460|
add_label_with_icon|small|`wBubble Wings - `2itemID: `e1550|left|1550|
add_label_with_icon|small|`wParrot Wings - `2itemID: `e1574|left|1574|
add_label_with_icon|small|`wWater Wings - `2itemID: `e1668|left|1668|
add_label_with_icon|small|`wRainbow Wings - `2itemID: `e1672|left|1672|
add_label_with_icon|small|`wPhoenix Wings - `2itemID: `e1674|left|1674|
add_label_with_icon|small|`wLegendary Wings - `2itemID: `e1784|left|1784|
add_label_with_icon|small|`wAutumn Wings - `2itemID: `e1824|left|1824|
add_label_with_icon|small|`wBlazing Electro Wings - `2itemID: `e1936|left|1936|
add_label_with_icon|small|`wDiamond Wings - `2itemID: `e1938|left|1938|
add_label_with_icon|small|`wNightmare Devil Wings - `2itemID: `e1970|left|1970|
add_label_with_icon|small|`wRed Crystal Wings - `2itemID: `e2254|left|2254|
add_label_with_icon|small|`wBlue Crystal Wings - `2itemID: `e2256|left|2256|
add_label_with_icon|small|`wGreen Crystal Wings - `2itemID: `e2258|left|2258|
add_label_with_icon|small|`wPurple Crystal Wings - `2itemID: `e2260|left|2260|
add_label_with_icon|small|`wGolden Crystal Wings - `2itemID: `e2262|left|2262|
add_label_with_icon|small|`wAqua Crystal Wings - `2itemID: `e2264|left|2264|
add_label_with_icon|small|`wTeeny Angel Wings - `2itemID: `e2390|left|2390|
add_label_with_icon|small|`wTeeny Golden Wings - `2itemID: `e2392|left|2392|
add_label_with_icon|small|`wTeeny Devil Wings - `2itemID: `e3120|left|3120|
add_label_with_icon|small|`wSaturday Wings - `2itemID: `e3512|left|3512|
add_label_with_icon|small|`wGolden Razor Wings - `2itemID: `e4534|left|4534|
add_label_with_icon|small|`wInside-Out Devil Wings - `2itemID: `e4986|left|4986|
add_label_with_icon|small|`wDraconic Wings - `2itemID: `e5754|left|5754|
add_label_with_icon|small|`wAurora Wings - `2itemID: `e6144|left|6144|
add_label_with_icon|small|`wDanieldd's Chimera Wings - `2itemID: `e6334|left|6334|
add_label_with_icon|small|`wSuper Utility Wings - `2itemID: `e6694|left|6694|
add_label_with_icon|small|`wNightwings - `2itemID: `e6818|left|6818|
add_label_with_icon|small|`wRaven Wings - `2itemID: `e6842|left|6842|
add_label_with_icon|small|`wDark Aurora Wings - `2itemID: `e7104|left|7104|
add_label_with_icon|small|`wStone Gargoyle Wings - `2itemID: `e7150|left|7150|
add_label_with_icon|small|`wMonarch Butterfly Wings - `2itemID: `e7196|left|7196|
add_label_with_icon|small|`wTurkey Wings - `2itemID: `e7350|left|7350|
add_label_with_icon|small|`wSnowflake Wings of Winter - `2itemID: `e7412|left|7412|
add_label_with_icon|small|`wOVEROLL's Wings - `2itemID: `e7502|left|7502|
add_label_with_icon|small|`wRobotic MK.IV Wings - `2itemID: `e7582|left|7582|
add_label_with_icon|small|`wLegendary Dragon Knight's Wings - `2itemID: `e7734|left|7734|
add_label_with_icon|small|`wStained Glass Heartwings - `2itemID: `e7834|left|7834|
add_label_with_icon|small|`wCondor Wings - `2itemID: `e7914|left|7914|
add_label_with_icon|small|`wAirplane Wings - `2itemID: `e7916|left|7916|
add_label_with_icon|small|`wDa Vinci Wings - `2itemID: `e8286|left|8286|
add_label_with_icon|small|`wSteampunk Wings - `2itemID: `e8302|left|8302|
add_label_with_icon|small|`wReg4shi's Archangel Wings - `2itemID: `e8308|left|8308|
add_label_with_icon|small|`wAngel of Mercy's Wings - `2itemID: `e8552|left|8552|
add_label_with_icon|small|`wMunnin's Unity Wings - `2itemID: `e8620|left|8620|
add_label_with_icon|small|`wValkyrie's Wings - `2itemID: `e8862|left|8862|
add_label_with_icon|small|`wMosquito King's Wings - `2itemID: `e8914|left|8914|
add_label_with_icon|small|`wNightmare Teeny Devil Wings - `2itemID: `e9114|left|9114|
add_label_with_icon|small|`wFrosty Wings - `2itemID: `e9182|left|9182|
add_label_with_icon|small|`wPink Teeny Angel Wings - `2itemID: `e9352|left|9352|
add_label_with_icon|small|`wBalrog Wings - `2itemID: `e9394|left|9394|
add_label_with_icon|small|`wShamrock Wings - `2itemID: `e9422|left|9422|
add_label_with_icon|small|`wFlamingo Wings - `2itemID: `e9742|left|9742|
add_label_with_icon|small|`wPegasus Wings - `2itemID: `e9760|left|9760|
add_label_with_icon|small|`wZodiac Wings - `2itemID: `e10054|left|10054|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function wing(type, packet)
if packet == ("action|input\n|text|/fwing") then
itemidwings()
return true
end
end

AddCallback("wings_commandsx","OnPacket", wing)

--ances
function itemidances()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Ances `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wAncestral Totem of Wisdom - `2itemID: `e5078|left|5078|
add_label_with_icon|small|`wAncestral Tesseract of Dimensions - `2itemID: `e5080|left|5080|
add_label_with_icon|small|`wAncestral Seed of Life - `2itemID: `e5082|left|5082|
add_label_with_icon|small|`wAncestral Lens of Riches - `2itemID: `e5084|left|5084|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function ances(type, packet)
if packet == ("action|input\n|text|/fances") then
itemidances()
return true
end
end

AddCallback("ancesiditem_commandsx","OnPacket", ances)

--crown
function itemidcrown()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Crown `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wFairy Crown - `2itemID: `e136|left|136|
add_label_with_icon|small|`wOceanic Crown - `2itemID: `e2874|left|2874|
add_label_with_icon|small|`wDried Leaf Crown - `2itemID: `e3086|left|3086|
add_label_with_icon|small|`wSuper Logo - Crown - `2itemID: `e3132|left|3132|
add_label_with_icon|small|`wChallenge Crown - `2itemID: `e3138|left|3138|
add_label_with_icon|small|`wSpring Crown - `2itemID: `e3444|left|3444|
add_label_with_icon|small|`wTXMom's Crown - `2itemID: `e4626|left|4626|
add_label_with_icon|small|`wPhoenix Crown - `2itemID: `e4820|left|4820|
add_label_with_icon|small|`wDancemaster's Crown - `2itemID: `e6300|left|6300|
add_label_with_icon|small|`wHeartking's Crown - `2itemID: `e7818|left|7818|
add_label_with_icon|small|`wHeartqueen's Crown - `2itemID: `e7822|left|7822|
add_label_with_icon|small|`wHowling Pineapple Crown - `2itemID: `e8516|left|8516|
add_label_with_icon|small|`wGuild Challenge Crown - `2itemID: `e9100|left|9100|
add_label_with_icon|small|`wMedusa's Crown - `2itemID: `e9348|left|9348|
add_label_with_icon|small|`wFloatie Crown - `2itemID: `e9736|left|9736|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function Crown(type, packet)
if packet == ("action|input\n|text|/fcrown") then
itemidcrown()
return true
end
end

AddCallback("legend_commandsx","OnPacket", Crown)

--aura
function itemidaura()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Aura `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wGolden Aura - `2itemID: `e2722|left|2722|
add_label_with_icon|small|`wBlack Aura - `2itemID: `e3114|left|3114|
add_label_with_icon|small|`wPink Aura - `2itemID: `e4970|left|4970|
add_label_with_icon|small|`wBlue Aura - `2itemID: `e4972|left|4972|
add_label_with_icon|small|`wPrismatic Aura - `2itemID: `e5020|left|5020|
add_label_with_icon|small|`wFlaming Aura - `2itemID: `e6284|left|6284|
add_label_with_icon|small|`wPurple Aura - `2itemID: `e8024|left|8024aea|
add_label_with_icon|small|`wGreen Aura - `2itemID: `e8026|left|8026|
add_label_with_icon|small|`wWinter Radiance Aura - `2itemID: `e9210|left|9210|
add_label_with_icon|small|`wMoney Aura - `2itemID: `e9428|left|9428|
add_label_with_icon|small|`wCrystal Aura - `2itemID: `e9712|left|9712|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function aura(type, packet)
if packet == ("action|input\n|text|/faura") then
itemidaura()
return true
end
end

AddCallback("hairs_commandsx","OnPacket", aura)

--bow
function itemidbow()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Bows `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wHeatbow - `2itemID: `e4136|left|4136|
add_label_with_icon|small|`wSilverstar Bow - `2itemID: `e5456|left|5456|
add_label_with_icon|small|`wEldritch Crossbow - `2itemID: `e10052|left|10052|
add_label_with_icon|small|`wHeartbow - `2itemID: `e366|left|366|
add_label_with_icon|small|`wElvish Longbow - `2itemID: `e594|left|594|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wElectric Bow - `2itemID: `e2720|left|2720|
add_label_with_icon|small|`wWinter Frost Bow - `2itemID: `e5424|left|5424|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function bow(type, packet)
if packet == ("action|input\n|text|/fbow") then
itemidbow()
return true
end
end

AddCallback("bowsiditem_commandsx","OnPacket", bow)

--Golden
function itemidgolden()
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Golden `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wGolden Halo - `2itemID: `e128|left|128|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wGolden Diamond Necklace - `2itemID: `e1466|left|1466|
add_label_with_icon|small|`wGolden Diaper - `2itemID: `e1462|left|1462|
add_label_with_icon|small|`wGolden Angel Wings - `2itemID: `e1460|left|1460|
add_label_with_icon|small|`wGolden Air Robinsons - `2itemID: `e1822|left|1822|
add_label_with_icon|small|`wGolden Crystal Wings - `2itemID: `e2262|left|2262|
add_label_with_icon|small|`wTeeny Golden Wings - `2itemID: `e2392|left|2392|
add_label_with_icon|small|`wGolden Aura - `2itemID: `e2722|left|2722|
add_label_with_icon|small|`wGolden Crystal Skirt - `2itemID: `e2942|left|2942|
add_label_with_icon|small|`wGolden Razor Wings - `2itemID: `e4534|left|4534|
add_label_with_icon|small|`wGolden Heart Shirt - `2itemID: `e5646|left|5646|
add_label_with_icon|small|`wGolden Talaria - `2itemID: `e5650|left|5650|
add_label_with_icon|small|`wKnight's Great Helm Golden - `2itemID: `e7276|left|7276|
add_label_with_icon|small|`wGolden Heartthrob Helm - `2itemID: `e9326|left|9326|
add_label_with_icon|small|`wGolden Sword - `2itemID: `e604|left|604|
add_label_with_icon|small|`wGolden Heartstaff - `2itemID: `e7828|left|7828|
add_label_with_icon|small|`wGolden Midas Masterpants - `2itemID: `e7302|left|7302|
add_label_with_icon|small|`wGolden Jet Ski - `2itemID: `e7530|left|7530|
add_label_with_icon|small|`wHovernator Drone - Golden - `2itemID: `e7574|left|7574|
add_label_with_icon|small|`wGolden Heartsword - `2itemID: `e7832|left|7832|
add_label_with_icon|small|`wGolden Sunset Cape - `2itemID: `e9322|left|9322|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`wOkay|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end

function golden(type, packet)
if packet == ("action|input\n|text|/fgold")then
itemidgolden()
return true
end
end

AddCallback("goldensiditem_commandsx","OnPacket", golden)

function finditem(type, packet)
if packet == ("action|input\n|text|/find") then
varlist = {}
varlist[0] = "OnDialogRequest"
varlist[1] = [[set_default_color|`o
add_label_with_icon|big|`e>>> `5Result In Legend `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wLegendary Katana - `2itemID: `e2592|left|2592|
add_label_with_icon|small|`wLegendary Wing - `2itemID: `e1784|left|1784|
add_label_with_icon|small|`wLegendBot-009 - `2itemID: `e1780|left|1780|
add_label_with_icon|small|`wLegendary Dragon Knight's Wings - `2itemID: `e7734|left|7734|
add_label_with_icon|small|`wLegendary Comet Hair - `2itemID: `e8306|left|8306|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Hands `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wLegendary Katana - `2itemID: `e2592|left|2592|
add_label_with_icon|small|`wPoseidon's Trident - `2itemID: `e2802|left|2802|
add_label_with_icon|small|`wPoseidon's Digger's Trident - `2itemID: `e7434|left|7434|
add_label_with_icon|small|`wNeptune's Trident - `2itemID: `e9758|left|9758|
add_label_with_icon|small|`wCursed Katana - `2itemID: `e9058|left|9058|
add_label_with_icon|small|`wGolden Heartstaff - `2itemID: `e7828|left|7828|
add_label_with_icon|small|`wHeatbow - `2itemID: `e4136|left|4136|
add_label_with_icon|small|`wSilverstar Bow - `2itemID: `e5456|left|5456|
add_label_with_icon|small|`wEldritch Crossbow - `2itemID: `e10052|left|10052|
add_label_with_icon|small|`wHeartbow - `2itemID: `e366|left|366|
add_label_with_icon|small|`wHeartsword - `2itemID: `e7830|left|7830|
add_label_with_icon|small|`wElvish Longbow - `2itemID: `e594|left|594|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wCarrot Sword - `2itemID: `e2908|left|2908|
add_label_with_icon|small|`wSonic Buster Sword - `2itemID: `e7586|left|7586|
add_label_with_icon|small|`wElectric Bow - `2itemID: `e2720|left|2720|
add_label_with_icon|small|`wWinter Frost Bow - `2itemID: `e5424|left|5424|
add_label_with_icon|small|`wEthereal Rainbow Dragon - `2itemID: `e7136|left|7136|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Wings `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wFairy Wings - `2itemID: `e156|left|156|
add_label_with_icon|small|`wAngel Wings - `2itemID: `e362|left|362|
add_label_with_icon|small|`wCrimson Eagle Wings - `2itemID: `e678|left|678|
add_label_with_icon|small|`wPlay Wings - `2itemID: `e736|left|736|
add_label_with_icon|small|`wRipper Wings - `2itemID: `e818|left|818|
add_label_with_icon|small|`wDevil Wings - `2itemID: `e1206|left|1206|
add_label_with_icon|small|`wGolden Angel Wings - `2itemID: `e1460|left|1460|
add_label_with_icon|small|`wBubble Wings - `2itemID: `e1550|left|1550|
add_label_with_icon|small|`wParrot Wings - `2itemID: `e1574|left|1574|
add_label_with_icon|small|`wWater Wings - `2itemID: `e1668|left|1668|
add_label_with_icon|small|`wRainbow Wings - `2itemID: `e1672|left|1672|
add_label_with_icon|small|`wPhoenix Wings - `2itemID: `e1674|left|1674|
add_label_with_icon|small|`wLegendary Wings - `2itemID: `e1784|left|1784|
add_label_with_icon|small|`wAutumn Wings - `2itemID: `e1824|left|1824|
add_label_with_icon|small|`wBlazing Electro Wings - `2itemID: `e1936|left|1936|
add_label_with_icon|small|`wDiamond Wings - `2itemID: `e1938|left|1938|
add_label_with_icon|small|`wNightmare Devil Wings - `2itemID: `e1970|left|1970|
add_label_with_icon|small|`wRed Crystal Wings - `2itemID: `e2254|left|2254|
add_label_with_icon|small|`wBlue Crystal Wings - `2itemID: `e2256|left|2256|
add_label_with_icon|small|`wGreen Crystal Wings - `2itemID: `e2258|left|2258|
add_label_with_icon|small|`wPurple Crystal Wings - `2itemID: `e2260|left|2260|
add_label_with_icon|small|`wGolden Crystal Wings - `2itemID: `e2262|left|2262|
add_label_with_icon|small|`wAqua Crystal Wings - `2itemID: `e2264|left|2264|
add_label_with_icon|small|`wTeeny Angel Wings - `2itemID: `e2390|left|2390|
add_label_with_icon|small|`wTeeny Golden Wings - `2itemID: `e2392|left|2392|
add_label_with_icon|small|`wTeeny Devil Wings - `2itemID: `e3120|left|3120|
add_label_with_icon|small|`wSaturday Wings - `2itemID: `e3512|left|3512|
add_label_with_icon|small|`wGolden Razor Wings - `2itemID: `e4534|left|4534|
add_label_with_icon|small|`wInside-Out Devil Wings - `2itemID: `e4986|left|4986|
add_label_with_icon|small|`wDraconic Wings - `2itemID: `e5754|left|5754|
add_label_with_icon|small|`wAurora Wings - `2itemID: `e6144|left|6144|
add_label_with_icon|small|`wDanieldd's Chimera Wings - `2itemID: `e6334|left|6334|
add_label_with_icon|small|`wSuper Utility Wings - `2itemID: `e6694|left|6694|
add_label_with_icon|small|`wNightwings - `2itemID: `e6818|left|6818|
add_label_with_icon|small|`wRaven Wings - `2itemID: `e6842|left|6842|
add_label_with_icon|small|`wDark Aurora Wings - `2itemID: `e7104|left|7104|
add_label_with_icon|small|`wStone Gargoyle Wings - `2itemID: `e7150|left|7150|
add_label_with_icon|small|`wMonarch Butterfly Wings - `2itemID: `e7196|left|7196|
add_label_with_icon|small|`wTurkey Wings - `2itemID: `e7350|left|7350|
add_label_with_icon|small|`wSnowflake Wings of Winter - `2itemID: `e7412|left|7412|
add_label_with_icon|small|`wOVEROLL's Wings - `2itemID: `e7502|left|7502|
add_label_with_icon|small|`wRobotic MK.IV Wings - `2itemID: `e7582|left|7582|
add_label_with_icon|small|`wLegendary Dragon Knight's Wings - `2itemID: `e7734|left|7734|
add_label_with_icon|small|`wStained Glass Heartwings - `2itemID: `e7834|left|7834|
add_label_with_icon|small|`wCondor Wings - `2itemID: `e7914|left|7914|
add_label_with_icon|small|`wAirplane Wings - `2itemID: `e7916|left|7916|
add_label_with_icon|small|`wDa Vinci Wings - `2itemID: `e8286|left|8286|
add_label_with_icon|small|`wSteampunk Wings - `2itemID: `e8302|left|8302|
add_label_with_icon|small|`wReg4shi's Archangel Wings - `2itemID: `e8308|left|8308|
add_label_with_icon|small|`wAngel of Mercy's Wings - `2itemID: `e8552|left|8552|
add_label_with_icon|small|`wMunnin's Unity Wings - `2itemID: `e8620|left|8620|
add_label_with_icon|small|`wValkyrie's Wings - `2itemID: `e8862|left|8862|
add_label_with_icon|small|`wMosquito King's Wings - `2itemID: `e8914|left|8914|
add_label_with_icon|small|`wNightmare Teeny Devil Wings - `2itemID: `e9114|left|9114|
add_label_with_icon|small|`wFrosty Wings - `2itemID: `e9182|left|9182|
add_label_with_icon|small|`wPink Teeny Angel Wings - `2itemID: `e9352|left|9352|
add_label_with_icon|small|`wBalrog Wings - `2itemID: `e9394|left|9394|
add_label_with_icon|small|`wShamrock Wings - `2itemID: `e9422|left|9422|
add_label_with_icon|small|`wFlamingo Wings - `2itemID: `e9742|left|9742|
add_label_with_icon|small|`wPegasus Wings - `2itemID: `e9760|left|9760|
add_label_with_icon|small|`wZodiac Wings - `2itemID: `e10054|left|10054|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Ances `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wAncestral Totem of Wisdom - `2itemID: `e5078|left|5078|
add_label_with_icon|small|`wAncestral Tesseract of Dimensions - `2itemID: `e5080|left|5080|
add_label_with_icon|small|`wAncestral Seed of Life - `2itemID: `e5082|left|5082|
add_label_with_icon|small|`wAncestral Lens of Riches - `2itemID: `e5084|left|5084|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Crown `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wFairy Crown - `2itemID: `e136|left|136|
add_label_with_icon|small|`wOceanic Crown - `2itemID: `e2874|left|2874|
add_label_with_icon|small|`wDried Leaf Crown - `2itemID: `e3086|left|3086|
add_label_with_icon|small|`wSuper Logo - Crown - `2itemID: `e3132|left|3132|
add_label_with_icon|small|`wChallenge Crown - `2itemID: `e3138|left|3138|
add_label_with_icon|small|`wSpring Crown - `2itemID: `e3444|left|3444|
add_label_with_icon|small|`wTXMom's Crown - `2itemID: `e4626|left|4626|
add_label_with_icon|small|`wPhoenix Crown - `2itemID: `e4820|left|4820|
add_label_with_icon|small|`wDancemaster's Crown - `2itemID: `e6300|left|6300|
add_label_with_icon|small|`wHeartking's Crown - `2itemID: `e7818|left|7818|
add_label_with_icon|small|`wHeartqueen's Crown - `2itemID: `e7822|left|7822|
add_label_with_icon|small|`wHowling Pineapple Crown - `2itemID: `e8516|left|8516|
add_label_with_icon|small|`wGuild Challenge Crown - `2itemID: `e9100|left|9100|
add_label_with_icon|small|`wMedusa's Crown - `2itemID: `e9348|left|9348|
add_label_with_icon|small|`wFloatie Crown - `2itemID: `e9736|left|9736|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Aura `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wGolden Aura - `2itemID: `e2722|left|2722|
add_label_with_icon|small|`wBlack Aura - `2itemID: `e3114|left|3114|
add_label_with_icon|small|`wPink Aura - `2itemID: `e4970|left|4970|
add_label_with_icon|small|`wBlue Aura - `2itemID: `e4972|left|4972|
add_label_with_icon|small|`wPrismatic Aura - `2itemID: `e5020|left|5020|
add_label_with_icon|small|`wFlaming Aura - `2itemID: `e6284|left|6284|
add_label_with_icon|small|`wPurple Aura - `2itemID: `e8024|left|8024aea|
add_label_with_icon|small|`wGreen Aura - `2itemID: `e8026|left|8026|
add_label_with_icon|small|`wWinter Radiance Aura - `2itemID: `e9210|left|9210|
add_label_with_icon|small|`wMoney Aura - `2itemID: `e9428|left|9428|
add_label_with_icon|small|`wCrystal Aura - `2itemID: `e9712|left|9712|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Bows `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wHeatbow - `2itemID: `e4136|left|4136|
add_label_with_icon|small|`wSilverstar Bow - `2itemID: `e5456|left|5456|
add_label_with_icon|small|`wEldritch Crossbow - `2itemID: `e10052|left|10052|
add_label_with_icon|small|`wHeartbow - `2itemID: `e366|left|366|
add_label_with_icon|small|`wElvish Longbow - `2itemID: `e594|left|594|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wElectric Bow - `2itemID: `e2720|left|2720|
add_label_with_icon|small|`wWinter Frost Bow - `2itemID: `e5424|left|5424|
add_spacer|small|
add_label_with_icon|big|`e>>> `5Result In Golden `e<<<|left|8|
add_spacer|small|
add_label_with_icon|small|`wGolden Halo - `2itemID: `e128|left|128|
add_label_with_icon|small|`wGolden Heartbow - `2itemID: `e1464|left|1464|
add_label_with_icon|small|`wGolden Diamond Necklace - `2itemID: `e1466|left|1466|
add_label_with_icon|small|`wGolden Diaper - `2itemID: `e1462|left|1462|
add_label_with_icon|small|`wGolden Angel Wings - `2itemID: `e1460|left|1460|
add_label_with_icon|small|`wGolden Air Robinsons - `2itemID: `e1822|left|1822|
add_label_with_icon|small|`wGolden Crystal Wings - `2itemID: `e2262|left|2262|
add_label_with_icon|small|`wTeeny Golden Wings - `2itemID: `e2392|left|2392|
add_label_with_icon|small|`wGolden Aura - `2itemID: `e2722|left|2722|
add_label_with_icon|small|`wGolden Crystal Skirt - `2itemID: `e2942|left|2942|
add_label_with_icon|small|`wGolden Razor Wings - `2itemID: `e4534|left|4534|
add_label_with_icon|small|`wGolden Heart Shirt - `2itemID: `e5646|left|5646|
add_label_with_icon|small|`wGolden Talaria - `2itemID: `e5650|left|5650|
add_label_with_icon|small|`wKnight's Great Helm Golden - `2itemID: `e7276|left|7276|
add_label_with_icon|small|`wGolden Heartthrob Helm - `2itemID: `e9326|left|9326|
add_label_with_icon|small|`wGolden Sword - `2itemID: `e604|left|604|
add_label_with_icon|small|`wGolden Heartstaff - `2itemID: `e7828|left|7828|
add_label_with_icon|small|`wGolden Midas Masterpants - `2itemID: `e7302|left|7302|
add_label_with_icon|small|`wGolden Jet Ski - `2itemID: `e7530|left|7530|
add_label_with_icon|small|`wHovernator Drone - Golden - `2itemID: `e7574|left|7574|
add_label_with_icon|small|`wGolden Heartsword - `2itemID: `e7832|left|7832|
add_label_with_icon|small|`wGolden Sunset Cape - `2itemID: `e9322|left|9322|
add_spacer|small|
add_quick_exit|
end_dialog|find_shortcut2|`0Cancel|`0Back|
]]
varlist.netid = -1
SendVarlist(varlist)
return true
end
end
AddCallback("finditem", "OnPacket", finditem)

AddCallback("fastdice", "OnIncomingRawPacket", function(packet)
if packet.type == 8 and packet.int_data == 0 and GetTile(packet.int_x, packet.int_y).fg == 456 then
SendVarlist({[0] = "OnConsoleMessage", [1] = "CP:0_PL:0_OID:_CT:[SB]_ `0[ `2Erza `0] `2Dice `0: `9"..math.floor(packet.count2 + 1), netid = -1})
end
end)
